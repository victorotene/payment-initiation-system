2025-07-28 01:47:13.704 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 01:47:13.805 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 01:47:13.957 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 01:47:13.963 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 01:47:27.855 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 61280 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 01:47:27.857 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 01:47:27.880 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 01:47:27.880 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 01:47:28.687 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 01:47:28.695 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 01:47:28.695 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 01:47:28.715 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 01:47:28.715 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 835 ms
2025-07-28 01:47:29.186 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 01:47:29.188 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 01:47:29.248 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 01:47:29.258 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.595 seconds (process running for 3.072)
2025-07-28 01:47:48.853 [http-nio-8080-exec-1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 01:47:48.854 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 01:47:48.859 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 4 ms
2025-07-28 01:47:49.037 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=bdeb26c9-7b44-4e42-847f-4d7157d6159d, merchantRef=INV-20250727-002, amount=100, currency=NGN, idempotencyKey=idemp-20250727-002)
2025-07-28 01:47:49.039 [http-nio-8080-exec-1] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 01:47:49.042 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 01:47:49.043 [http-nio-8080-exec-1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 01:47:49.152 [http-nio-8080-exec-1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d36509f
2025-07-28 01:47:49.154 [http-nio-8080-exec-1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 01:47:49.156 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@376627056 wrapping org.postgresql.jdbc.PgConnection@1d36509f] for JDBC transaction
2025-07-28 01:47:49.158 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@376627056 wrapping org.postgresql.jdbc.PgConnection@1d36509f] to manual commit
2025-07-28 01:47:49.162 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 01:47:49.162 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@376627056 wrapping org.postgresql.jdbc.PgConnection@1d36509f]
2025-07-28 01:47:49.162 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@376627056 wrapping org.postgresql.jdbc.PgConnection@1d36509f] after transaction
2025-07-28 01:47:49.174 [http-nio-8080-exec-1] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-002
2025-07-28 01:47:49.176 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 01:47:49.176 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 01:47:49.176 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:47:49.211 [http-nio-8080-exec-1] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = b558f607-8dee-4ddb-8c7b-4ecbcf22e9df
2025-07-28 01:47:49.215 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: b558f607-8dee-4ddb-8c7b-4ecbcf22e9df
2025-07-28 01:48:04.255 [http-nio-8080-exec-3] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=bdeb26c9-7b44-4e42-847f-4d7157d6159d, merchantRef=INV-20250727-005, amount=100, currency=NGN, idempotencyKey=idemp-20250727-005)
2025-07-28 01:48:04.256 [http-nio-8080-exec-3] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 01:48:04.256 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 01:48:04.259 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1892297183 wrapping org.postgresql.jdbc.PgConnection@1d36509f] for JDBC transaction
2025-07-28 01:48:04.260 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1892297183 wrapping org.postgresql.jdbc.PgConnection@1d36509f] to manual commit
2025-07-28 01:48:04.261 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 01:48:04.261 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1892297183 wrapping org.postgresql.jdbc.PgConnection@1d36509f]
2025-07-28 01:48:04.261 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1892297183 wrapping org.postgresql.jdbc.PgConnection@1d36509f] after transaction
2025-07-28 01:48:04.262 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-005
2025-07-28 01:48:04.263 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 01:48:04.263 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 01:48:04.263 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.266 [http-nio-8080-exec-3] WARN  [c.p.c.i.r.PostgresTransactionRepository] - Query returned no result or failed: Incorrect result size: expected 1, actual 0
2025-07-28 01:48:04.278 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 01:48:04.278 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 01:48:04.278 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.292 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Saving new transaction: ID = c5f010bb-de42-46a7-80fb-b2046dc10722, Status = INITIATED, Amount = 100
2025-07-28 01:48:04.292 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 01:48:04.292 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO transactions (
    id, merchant_id, merchant_ref, internal_ref, amount, currency,
    fee, net_amount, retry_count, status, idempotency_key,
    customer_simulated_debit_status, settlement_batch_id, created_at, updated_at
) VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?,
    ?, ?, ?, ?
)]
2025-07-28 01:48:04.292 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.311 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction saved: ID = c5f010bb-de42-46a7-80fb-b2046dc10722, rows affected = 1
2025-07-28 01:48:04.311 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = c5f010bb-de42-46a7-80fb-b2046dc10722
2025-07-28 01:48:04.311 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 01:48:04.311 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 01:48:04.311 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.312 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c5f010bb-de42-46a7-80fb-b2046dc10722
2025-07-28 01:48:04.825 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 01:48:04.826 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@403249401 wrapping org.postgresql.jdbc.PgConnection@1d36509f] for JDBC transaction
2025-07-28 01:48:04.827 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@403249401 wrapping org.postgresql.jdbc.PgConnection@1d36509f] to manual commit
2025-07-28 01:48:04.829 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 01:48:04.829 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@403249401 wrapping org.postgresql.jdbc.PgConnection@1d36509f]
2025-07-28 01:48:04.829 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@403249401 wrapping org.postgresql.jdbc.PgConnection@1d36509f] after transaction
2025-07-28 01:48:04.832 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 01:48:04.833 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 01:48:04.833 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.905 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 01:48:04.906 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 01:48:04.906 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.909 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 01:48:04.910 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@24531106 wrapping org.postgresql.jdbc.PgConnection@1d36509f] for JDBC transaction
2025-07-28 01:48:04.910 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@24531106 wrapping org.postgresql.jdbc.PgConnection@1d36509f] to manual commit
2025-07-28 01:48:04.911 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 01:48:04.912 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@24531106 wrapping org.postgresql.jdbc.PgConnection@1d36509f]
2025-07-28 01:48:04.912 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@24531106 wrapping org.postgresql.jdbc.PgConnection@1d36509f] after transaction
2025-07-28 01:48:04.914 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Updating transaction: ID = c5f010bb-de42-46a7-80fb-b2046dc10722, Status = SUCCESS, RetryCount = 0
2025-07-28 01:48:04.915 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 01:48:04.915 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]
2025-07-28 01:48:04.915 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 01:48:04.943 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.s.SQLStateSQLExceptionTranslator] - Extracted SQL state class '23' from value '23514'
2025-07-28 01:48:04.951 [kotlinx.coroutines.DefaultExecutor] ERROR [c.p.c.p.c.TransactionController] - Unexpected error occurred: PreparedStatementCallback; SQL [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]; ERROR: new row for relation "transactions" violates check constraint "chk_debit_status"
  Detail: Failing row contains (c5f010bb-de42-46a7-80fb-b2046dc10722, bdeb26c9-7b44-4e42-847f-4d7157d6159d, INV-20250727-005, TXN_1753663684287_1773, idemp-20250727-005, 100.00, NGN, 1.50, 98.50, 0, SUCCESS, DEBITED, null, 2025-07-28 01:48:04.290684+01, 2025-07-28 01:48:04.915901+01).
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]; ERROR: new row for relation "transactions" violates check constraint "chk_debit_status"
  Detail: Failing row contains (c5f010bb-de42-46a7-80fb-b2046dc10722, bdeb26c9-7b44-4e42-847f-4d7157d6159d, INV-20250727-005, TXN_1753663684287_1773, idemp-20250727-005, 100.00, NGN, 1.50, 98.50, 0, SUCCESS, DEBITED, null, 2025-07-28 01:48:04.290684+01, 2025-07-28 01:48:04.915901+01).
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Assembly trace from producer [reactor.core.publisher.MonoError] :

Error has been observed at the following site(s):
	*___________________Mono.onErrorMap ⇢ at org.springframework.core.CoroutinesUtils.invokeSuspendingFunction(CoroutinesUtils.java:146)
	|_                Mono.contextWrite ⇢ at kotlinx.coroutines.reactor.ReactorContextInjector.injectCoroutineContext(ReactorContextInjector.kt:17)
	*_______________________Mono.create ⇢ at kotlinx.coroutines.reactor.MonoKt.monoInternal(Mono.kt:83)
	|_                      Mono.filter ⇢ at org.springframework.core.CoroutinesUtils.invokeSuspendingFunction(CoroutinesUtils.java:145)
	|_                  Mono.onErrorMap ⇢ at org.springframework.core.CoroutinesUtils.invokeSuspendingFunction(CoroutinesUtils.java:146)
	|_                Mono.contextWrite ⇢ at kotlinx.coroutines.reactor.ReactorContextInjector.injectCoroutineContext(ReactorContextInjector.kt:17)
	*__MonoCreate$DefaultMonoSink.error ⇢ at kotlinx.coroutines.reactor.MonoCoroutine.onCancelled(Mono.kt:109)
Original Stack Trace:
		at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118)
		at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)
		at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116)
		at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1556)
		at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677)
		at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:972)
		at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:993)
		at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)
		at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update$suspendImpl(PostgresTransactionRepository.kt:103)
		at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update(PostgresTransactionRepository.kt)
		at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
		at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
		at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
		at java.base/java.lang.reflect.Method.invoke(Method.java:568)
		at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
		at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
		at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
		at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
		at org.springframework.core.CoroutinesUtils.lambda$invokeSuspendingFunction$3(CoroutinesUtils.java:143)
		at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt$createCoroutineUnintercepted$$inlined$createCoroutineFromSuspendFunction$IntrinsicsKt__IntrinsicsJvmKt$4.invokeSuspend(IntrinsicsJvm.kt:270)
		at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith$$$capture(ContinuationImpl.kt:33)
		at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt)
		at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:104)
		at kotlinx.coroutines.EventLoop.processUnconfinedEvent(EventLoop.common.kt:65)
		at kotlinx.coroutines.DispatchedTaskKt.resumeUnconfined(DispatchedTask.kt:241)
		at kotlinx.coroutines.DispatchedTaskKt.dispatch(DispatchedTask.kt:159)
		at kotlinx.coroutines.CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:466)
		at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl(CancellableContinuationImpl.kt:500)
		at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl$default(CancellableContinuationImpl.kt:489)
		at kotlinx.coroutines.CancellableContinuationImpl.resumeUndispatched(CancellableContinuationImpl.kt:587)
		at kotlinx.coroutines.EventLoopImplBase$DelayedResumeTask.run(EventLoop.common.kt:490)
		at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
		at kotlinx.coroutines.DefaultExecutor.run(DefaultExecutor.kt:105)
		at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.postgresql.util.PSQLException: ERROR: new row for relation "transactions" violates check constraint "chk_debit_status"
  Detail: Failing row contains (c5f010bb-de42-46a7-80fb-b2046dc10722, bdeb26c9-7b44-4e42-847f-4d7157d6159d, INV-20250727-005, TXN_1753663684287_1773, idemp-20250727-005, 100.00, NGN, 1.50, 98.50, 0, SUCCESS, DEBITED, null, 2025-07-28 01:48:04.290684+01, 2025-07-28 01:48:04.915901+01).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:977)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:972)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:993)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)
	at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update$suspendImpl(PostgresTransactionRepository.kt:103)
	at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update(PostgresTransactionRepository.kt)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at org.springframework.core.CoroutinesUtils.lambda$invokeSuspendingFunction$3(CoroutinesUtils.java:143)
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt$createCoroutineUnintercepted$$inlined$createCoroutineFromSuspendFunction$IntrinsicsKt__IntrinsicsJvmKt$4.invokeSuspend(IntrinsicsJvm.kt:270)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith$$$capture(ContinuationImpl.kt:33)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:104)
	at kotlinx.coroutines.EventLoop.processUnconfinedEvent(EventLoop.common.kt:65)
	at kotlinx.coroutines.DispatchedTaskKt.resumeUnconfined(DispatchedTask.kt:241)
	at kotlinx.coroutines.DispatchedTaskKt.dispatch(DispatchedTask.kt:159)
	at kotlinx.coroutines.CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:466)
	at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl(CancellableContinuationImpl.kt:500)
	at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl$default(CancellableContinuationImpl.kt:489)
	at kotlinx.coroutines.CancellableContinuationImpl.resumeUndispatched(CancellableContinuationImpl.kt:587)
	at kotlinx.coroutines.EventLoopImplBase$DelayedResumeTask.run(EventLoop.common.kt:490)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.DefaultExecutor.run(DefaultExecutor.kt:105)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 01:55:07.622 [HikariPool-1:housekeeper] WARN  [com.zaxxer.hikari.pool.PoolBase] - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@1d36509f (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-07-28 01:55:09.680 [HikariPool-1:housekeeper] WARN  [com.zaxxer.hikari.pool.PoolBase] - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2e32952b (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-07-28 01:55:38.981 [HikariPool-1:housekeeper] WARN  [com.zaxxer.hikari.pool.PoolBase] - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@66422be3 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-07-28 01:55:52.754 [HikariPool-1:housekeeper] WARN  [com.zaxxer.hikari.pool.PoolBase] - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@79cf4ce9 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-07-28 01:56:12.063 [HikariPool-1:housekeeper] WARN  [com.zaxxer.hikari.pool.PoolBase] - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@17dfe005 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-07-28 02:03:31.578 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 02:03:31.595 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 02:03:31.639 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 02:03:31.640 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 02:03:36.791 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 61820 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:03:36.792 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:03:36.817 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 02:03:36.817 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 02:03:37.620 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 02:03:37.627 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 02:03:37.628 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 02:03:37.649 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 02:03:37.649 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 831 ms
2025-07-28 02:03:38.128 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 02:03:38.131 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 02:03:38.197 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 02:03:38.208 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.637 seconds (process running for 3.365)
2025-07-28 02:04:06.246 [http-nio-8080-exec-2] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 02:04:06.247 [http-nio-8080-exec-2] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 02:04:06.248 [http-nio-8080-exec-2] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 02:04:06.428 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Victor's Store, email=victor@example.com, settlementAccount=1234567890, balance=10000)
2025-07-28 02:04:06.430 [http-nio-8080-exec-2] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: CreateMerchantCommand to CreateMerchantCommandHandler
2025-07-28 02:04:06.430 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Handling CreateMerchantCommand for email: victor@example.com
2025-07-28 02:04:06.445 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:04:06.446 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 1 FROM merchants WHERE email = ? LIMIT 1]
2025-07-28 02:04:06.448 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:06.449 [http-nio-8080-exec-2] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 02:04:06.553 [http-nio-8080-exec-2] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59a52c9b
2025-07-28 02:04:06.554 [http-nio-8080-exec-2] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 02:04:06.580 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:04:06.581 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@2034353833 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] for JDBC transaction
2025-07-28 02:04:06.582 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@2034353833 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] to manual commit
2025-07-28 02:04:06.583 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:04:06.583 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@2034353833 wrapping org.postgresql.jdbc.PgConnection@59a52c9b]
2025-07-28 02:04:06.583 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@2034353833 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] after transaction
2025-07-28 02:04:06.584 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:04:06.584 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 02:04:06.584 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:06.588 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:04:06.588 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:04:06.588 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:06.590 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Successfully saved merchant with ID: f55d7f4a-5b66-4571-a8bb-85cc926bfbb0
2025-07-28 02:04:06.591 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: f55d7f4a-5b66-4571-a8bb-85cc926bfbb0
2025-07-28 02:04:20.249 [http-nio-8080-exec-3] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=f55d7f4a-5b66-4571-a8bb-85cc926bfbb0, merchantRef=INV-20250727-005, amount=100, currency=NGN, idempotencyKey=idemp-20250727-005)
2025-07-28 02:04:20.250 [http-nio-8080-exec-3] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 02:04:20.250 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:04:20.251 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] for JDBC transaction
2025-07-28 02:04:20.251 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] to manual commit
2025-07-28 02:04:20.254 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:04:20.254 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@59a52c9b]
2025-07-28 02:04:20.254 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] after transaction
2025-07-28 02:04:20.261 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-005
2025-07-28 02:04:20.261 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:04:20.261 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 02:04:20.261 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.268 [http-nio-8080-exec-3] WARN  [c.p.c.i.r.PostgresTransactionRepository] - Query returned no result or failed: Incorrect result size: expected 1, actual 0
2025-07-28 02:04:20.269 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:04:20.269 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:04:20.269 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.275 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Saving new transaction: ID = 3d109b85-76df-4a76-bdb6-1246224a0727, Status = INITIATED, Amount = 100
2025-07-28 02:04:20.275 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:04:20.275 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO transactions (
    id, merchant_id, merchant_ref, internal_ref, amount, currency,
    fee, net_amount, retry_count, status, idempotency_key,
    customer_simulated_debit_status, settlement_batch_id, created_at, updated_at
) VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?,
    ?, ?, ?, ?
)]
2025-07-28 02:04:20.275 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.283 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction saved: ID = 3d109b85-76df-4a76-bdb6-1246224a0727, rows affected = 1
2025-07-28 02:04:20.283 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = 3d109b85-76df-4a76-bdb6-1246224a0727
2025-07-28 02:04:20.284 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:04:20.284 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 02:04:20.284 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.285 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 3d109b85-76df-4a76-bdb6-1246224a0727
2025-07-28 02:04:20.799 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:04:20.801 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@545892997 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] for JDBC transaction
2025-07-28 02:04:20.802 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@545892997 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] to manual commit
2025-07-28 02:04:20.803 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:04:20.803 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@545892997 wrapping org.postgresql.jdbc.PgConnection@59a52c9b]
2025-07-28 02:04:20.803 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@545892997 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] after transaction
2025-07-28 02:04:20.804 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:04:20.805 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 02:04:20.805 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.815 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:04:20.816 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:04:20.816 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.821 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:04:20.821 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1491849809 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] for JDBC transaction
2025-07-28 02:04:20.821 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1491849809 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] to manual commit
2025-07-28 02:04:20.822 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:04:20.823 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1491849809 wrapping org.postgresql.jdbc.PgConnection@59a52c9b]
2025-07-28 02:04:20.823 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1491849809 wrapping org.postgresql.jdbc.PgConnection@59a52c9b] after transaction
2025-07-28 02:04:20.825 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Updating transaction: ID = 3d109b85-76df-4a76-bdb6-1246224a0727, Status = SUCCESS, RetryCount = 0
2025-07-28 02:04:20.826 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:04:20.826 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]
2025-07-28 02:04:20.826 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:04:20.846 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.s.SQLStateSQLExceptionTranslator] - Extracted SQL state class '23' from value '23514'
2025-07-28 02:04:20.852 [kotlinx.coroutines.DefaultExecutor] ERROR [c.p.c.p.c.TransactionController] - Unexpected error occurred: PreparedStatementCallback; SQL [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]; ERROR: new row for relation "transactions" violates check constraint "transactions_customer_simulated_debit_status_check"
  Detail: Failing row contains (3d109b85-76df-4a76-bdb6-1246224a0727, f55d7f4a-5b66-4571-a8bb-85cc926bfbb0, INV-20250727-005, TXN_1753664660271_7483, idemp-20250727-005, 100.00, NGN, 1.50, 98.50, 0, SUCCESS, DEBITED, null, 2025-07-28 02:04:20.273863+01, 2025-07-28 02:04:20.827075+01).
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]; ERROR: new row for relation "transactions" violates check constraint "transactions_customer_simulated_debit_status_check"
  Detail: Failing row contains (3d109b85-76df-4a76-bdb6-1246224a0727, f55d7f4a-5b66-4571-a8bb-85cc926bfbb0, INV-20250727-005, TXN_1753664660271_7483, idemp-20250727-005, 100.00, NGN, 1.50, 98.50, 0, SUCCESS, DEBITED, null, 2025-07-28 02:04:20.273863+01, 2025-07-28 02:04:20.827075+01).
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Assembly trace from producer [reactor.core.publisher.MonoError] :

Error has been observed at the following site(s):
	*___________________Mono.onErrorMap ⇢ at org.springframework.core.CoroutinesUtils.invokeSuspendingFunction(CoroutinesUtils.java:146)
	|_                Mono.contextWrite ⇢ at kotlinx.coroutines.reactor.ReactorContextInjector.injectCoroutineContext(ReactorContextInjector.kt:17)
	*_______________________Mono.create ⇢ at kotlinx.coroutines.reactor.MonoKt.monoInternal(Mono.kt:83)
	|_                      Mono.filter ⇢ at org.springframework.core.CoroutinesUtils.invokeSuspendingFunction(CoroutinesUtils.java:145)
	|_                  Mono.onErrorMap ⇢ at org.springframework.core.CoroutinesUtils.invokeSuspendingFunction(CoroutinesUtils.java:146)
	|_                Mono.contextWrite ⇢ at kotlinx.coroutines.reactor.ReactorContextInjector.injectCoroutineContext(ReactorContextInjector.kt:17)
	*__MonoCreate$DefaultMonoSink.error ⇢ at kotlinx.coroutines.reactor.MonoCoroutine.onCancelled(Mono.kt:109)
Original Stack Trace:
		at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118)
		at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)
		at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116)
		at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1556)
		at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677)
		at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:972)
		at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:993)
		at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)
		at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update$suspendImpl(PostgresTransactionRepository.kt:103)
		at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update(PostgresTransactionRepository.kt)
		at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
		at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
		at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
		at java.base/java.lang.reflect.Method.invoke(Method.java:568)
		at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
		at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
		at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
		at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
		at org.springframework.core.CoroutinesUtils.lambda$invokeSuspendingFunction$3(CoroutinesUtils.java:143)
		at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt$createCoroutineUnintercepted$$inlined$createCoroutineFromSuspendFunction$IntrinsicsKt__IntrinsicsJvmKt$4.invokeSuspend(IntrinsicsJvm.kt:270)
		at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith$$$capture(ContinuationImpl.kt:33)
		at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt)
		at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:104)
		at kotlinx.coroutines.EventLoop.processUnconfinedEvent(EventLoop.common.kt:65)
		at kotlinx.coroutines.DispatchedTaskKt.resumeUnconfined(DispatchedTask.kt:241)
		at kotlinx.coroutines.DispatchedTaskKt.dispatch(DispatchedTask.kt:159)
		at kotlinx.coroutines.CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:466)
		at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl(CancellableContinuationImpl.kt:500)
		at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl$default(CancellableContinuationImpl.kt:489)
		at kotlinx.coroutines.CancellableContinuationImpl.resumeUndispatched(CancellableContinuationImpl.kt:587)
		at kotlinx.coroutines.EventLoopImplBase$DelayedResumeTask.run(EventLoop.common.kt:490)
		at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
		at kotlinx.coroutines.DefaultExecutor.run(DefaultExecutor.kt:105)
		at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.postgresql.util.PSQLException: ERROR: new row for relation "transactions" violates check constraint "transactions_customer_simulated_debit_status_check"
  Detail: Failing row contains (3d109b85-76df-4a76-bdb6-1246224a0727, f55d7f4a-5b66-4571-a8bb-85cc926bfbb0, INV-20250727-005, TXN_1753664660271_7483, idemp-20250727-005, 100.00, NGN, 1.50, 98.50, 0, SUCCESS, DEBITED, null, 2025-07-28 02:04:20.273863+01, 2025-07-28 02:04:20.827075+01).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:977)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:972)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:993)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)
	at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update$suspendImpl(PostgresTransactionRepository.kt:103)
	at com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update(PostgresTransactionRepository.kt)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at org.springframework.core.CoroutinesUtils.lambda$invokeSuspendingFunction$3(CoroutinesUtils.java:143)
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt$createCoroutineUnintercepted$$inlined$createCoroutineFromSuspendFunction$IntrinsicsKt__IntrinsicsJvmKt$4.invokeSuspend(IntrinsicsJvm.kt:270)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith$$$capture(ContinuationImpl.kt:33)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:104)
	at kotlinx.coroutines.EventLoop.processUnconfinedEvent(EventLoop.common.kt:65)
	at kotlinx.coroutines.DispatchedTaskKt.resumeUnconfined(DispatchedTask.kt:241)
	at kotlinx.coroutines.DispatchedTaskKt.dispatch(DispatchedTask.kt:159)
	at kotlinx.coroutines.CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:466)
	at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl(CancellableContinuationImpl.kt:500)
	at kotlinx.coroutines.CancellableContinuationImpl.resumeImpl$default(CancellableContinuationImpl.kt:489)
	at kotlinx.coroutines.CancellableContinuationImpl.resumeUndispatched(CancellableContinuationImpl.kt:587)
	at kotlinx.coroutines.EventLoopImplBase$DelayedResumeTask.run(EventLoop.common.kt:490)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.DefaultExecutor.run(DefaultExecutor.kt:105)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 02:15:51.266 [HikariPool-1:housekeeper] WARN  [com.zaxxer.hikari.pool.PoolBase] - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@a41ed0c (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-07-28 02:16:41.943 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 02:16:41.959 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 02:16:42.000 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 02:16:42.002 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 02:16:47.650 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 62314 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:16:47.651 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:16:47.675 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 02:16:47.675 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 02:16:48.541 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 02:16:48.548 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 02:16:48.548 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 02:16:48.574 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 02:16:48.574 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 899 ms
2025-07-28 02:16:49.060 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 02:16:49.063 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 02:16:49.126 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 02:16:49.137 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.694 seconds (process running for 3.243)
2025-07-28 02:17:00.554 [http-nio-8080-exec-1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 02:17:00.554 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 02:17:00.557 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 3 ms
2025-07-28 02:17:00.713 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Victor's Store, email=victor@example.com, settlementAccount=1234567890, balance=10000)
2025-07-28 02:17:00.715 [http-nio-8080-exec-1] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: CreateMerchantCommand to CreateMerchantCommandHandler
2025-07-28 02:17:00.715 [http-nio-8080-exec-1] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Handling CreateMerchantCommand for email: victor@example.com
2025-07-28 02:17:00.727 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:00.728 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 1 FROM merchants WHERE email = ? LIMIT 1]
2025-07-28 02:17:00.729 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:00.730 [http-nio-8080-exec-1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 02:17:00.827 [http-nio-8080-exec-1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@238c126b
2025-07-28 02:17:00.829 [http-nio-8080-exec-1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 02:17:00.851 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:17:00.853 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@285105852 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:17:00.853 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@285105852 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:17:00.854 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:17:00.854 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@285105852 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:17:00.854 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@285105852 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:17:00.855 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:17:00.855 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 02:17:00.855 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:00.858 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:00.858 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:17:00.858 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:00.859 [http-nio-8080-exec-1] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Successfully saved merchant with ID: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 02:17:00.861 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 02:17:11.268 [http-nio-8080-exec-3] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=7f970a0d-169c-4794-ab75-b984e299678c, merchantRef=INV-20250727-005, amount=100, currency=NGN, idempotencyKey=idemp-20250727-005)
2025-07-28 02:17:11.269 [http-nio-8080-exec-3] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 02:17:11.269 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:17:11.270 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:17:11.270 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:17:11.275 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:17:11.275 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:17:11.276 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@737643031 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:17:11.285 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-005
2025-07-28 02:17:11.285 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:11.285 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 02:17:11.285 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.291 [http-nio-8080-exec-3] WARN  [c.p.c.i.r.PostgresTransactionRepository] - Query returned no result or failed: Incorrect result size: expected 1, actual 0
2025-07-28 02:17:11.292 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:11.292 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:17:11.292 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.297 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Saving new transaction: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d, Status = INITIATED, Amount = 100
2025-07-28 02:17:11.298 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:17:11.298 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO transactions (
    id, merchant_id, merchant_ref, internal_ref, amount, currency,
    fee, net_amount, retry_count, status, idempotency_key,
    customer_simulated_debit_status, settlement_batch_id, created_at, updated_at
) VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?,
    ?, ?, ?, ?
)]
2025-07-28 02:17:11.298 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.307 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction saved: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d, rows affected = 1
2025-07-28 02:17:11.307 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 02:17:11.307 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:11.307 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 02:17:11.307 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.308 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 02:17:11.816 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:17:11.817 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1312786370 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:17:11.817 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1312786370 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:17:11.818 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:17:11.818 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1312786370 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:17:11.819 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1312786370 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:17:11.820 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:17:11.820 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 02:17:11.820 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.825 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:11.825 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:17:11.825 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.828 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:17:11.828 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@258047114 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:17:11.828 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@258047114 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:17:11.829 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:17:11.829 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@258047114 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:17:11.829 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@258047114 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:17:11.831 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Updating transaction: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d, Status = SUCCESS, RetryCount = 0
2025-07-28 02:17:11.832 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:17:11.832 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]
2025-07-28 02:17:11.832 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.834 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction updated: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d, rows affected = 1
2025-07-28 02:17:11.834 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 02:17:11.835 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:17:11.835 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 02:17:11.835 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:17:11.836 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 02:17:11.839 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 02:21:25.342 [http-nio-8080-exec-7] INFO  [c.p.c.p.c.TransactionController] - Received ListTransactionsRequest for merchant: 7f970a0d-169c-4794-ab75-b984e299678c with filters: status=SUCCESS, fromDate=2025-07-27T00:00, toDate=2025-07-29T00:00, page=0, size=20
2025-07-28 02:21:25.343 [http-nio-8080-exec-7] INFO  [c.p.c.infrastructure.SimpleQueryBus] - Dispatching query: ListTransactionsQuery to ListTransactionsQueryHandler
2025-07-28 02:21:25.344 [http-nio-8080-exec-7] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Handling ListTransactionsQuery for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 02:21:25.345 [http-nio-8080-exec-7] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:21:25.345 [http-nio-8080-exec-7] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:21:25.345 [http-nio-8080-exec-7] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:21:25.360 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:21:25.360 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT COUNT(*) 
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?]
2025-07-28 02:21:25.360 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:21:25.365 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:21:25.365 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 
    id,
    merchant_id,
    merchant_ref,
    internal_ref,
    idempotency_key,
    amount,
    currency,
    fee,
    net_amount,
    retry_count,
    status,
    customer_simulated_debit_status,
    settlement_batch_id,
    created_at,
    updated_at
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?
ORDER BY created_at DESC, id DESC
LIMIT ? OFFSET ?]
2025-07-28 02:21:25.365 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:21:25.368 [DefaultDispatcher-worker-1] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Retrieved 1 transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 02:21:25.369 [DefaultDispatcher-worker-1] INFO  [c.p.c.p.c.TransactionController] - Successfully retrieved 1 transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 02:23:17.672 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.SettlementController] - Received request to settle transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c, limit: 100
2025-07-28 02:23:22.741 [http-nio-8080-exec-2] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: SettleTransactionsCommand to SettleTransactionsHandler$$SpringCGLIB$$0
2025-07-28 02:23:22.744 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.commandhandlers.SettleTransactionsHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:23:22.748 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@941331194 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:23:22.749 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@941331194 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:23:22.780 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:23:22.780 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@941331194 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:23:22.781 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@941331194 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:23:22.791 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.SettleTransactionsHandler] - Starting settlement process for merchant: 7f970a0d-169c-4794-ab75-b984e299678c, limit: 100
2025-07-28 02:23:22.795 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:23:22.795 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 02:23:22.795 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:23:22.806 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:23:22.806 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions
WHERE merchant_id = ?
  AND status = ?
  AND settlement_batch_id IS NULL
ORDER BY created_at ASC
LIMIT ?]
2025-07-28 02:23:22.806 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:23:22.812 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.SettleTransactionsHandler] - Settlement calculation - Total amount: 100.00, Total fee: 1.50, Transaction count: 1
2025-07-28 02:23:22.816 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresSettlementRepository.saveSettlementBatch]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:23:22.817 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1890710790 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:23:22.817 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1890710790 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:23:22.817 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:23:22.817 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1890710790 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:23:22.817 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1890710790 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:23:22.818 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:23:22.818 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO settlement_batches (
    id, batch_ref, merchant_id, total_amount, total_fee, net_amount,
    currency, transaction_count, status, created_at, updated_at
)
VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    status = EXCLUDED.status,
    updated_at = EXCLUDED.updated_at]
2025-07-28 02:23:22.818 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:23:22.837 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 02:23:22.837 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM settlement_batches
WHERE id = ?]
2025-07-28 02:23:22.837 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:23:22.839 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresSettlementRepository.updateTransactionsWithBatch]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 02:23:22.839 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1644954587 wrapping org.postgresql.jdbc.PgConnection@238c126b] for JDBC transaction
2025-07-28 02:23:22.839 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1644954587 wrapping org.postgresql.jdbc.PgConnection@238c126b] to manual commit
2025-07-28 02:23:22.841 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 02:23:22.841 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1644954587 wrapping org.postgresql.jdbc.PgConnection@238c126b]
2025-07-28 02:23:22.841 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1644954587 wrapping org.postgresql.jdbc.PgConnection@238c126b] after transaction
2025-07-28 02:23:22.841 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 02:23:22.841 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions
SET settlement_batch_id = ?,
    status = ?,
    updated_at = now() at time zone 'UTC'
WHERE id = ANY(?)
  AND status = ?
  AND settlement_batch_id IS NULL]
2025-07-28 02:23:22.841 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 02:23:22.849 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.SettleTransactionsHandler] - Settlement batch created successfully: b9b792f4-51b7-4324-abf6-39728a6c8e6c with 1 transactions
2025-07-28 02:23:28.726 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.SettlementController] - Successfully settled 1 transactions into batch b9b792f4-51b7-4324-abf6-39728a6c8e6c
2025-07-28 02:26:42.860 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 02:26:42.881 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 02:26:42.931 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 02:26:42.933 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 02:31:11.994 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 62803 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:31:11.995 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:31:13.106 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:31:13.106 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:31:13.107 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 02:31:13.173 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.349 seconds (process running for 1.937)
2025-07-28 02:37:11.361 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 62997 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:37:11.362 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:37:12.397 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:37:12.397 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:37:12.398 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 02:37:12.467 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.275 seconds (process running for 1.79)
2025-07-28 02:40:22.728 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 63109 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:40:22.729 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:40:23.721 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:40:23.721 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:40:23.722 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 02:40:23.780 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.205 seconds (process running for 1.811)
2025-07-28 02:40:23.802 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest$EdgeCases] - Starting MerchantControllerTest.EdgeCases using Java 17.0.9 with PID 63109 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:40:23.802 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest$EdgeCases] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:40:23.992 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:40:23.992 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:40:23.992 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 02:40:23.996 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest$EdgeCases] - Started MerchantControllerTest.EdgeCases in 0.211 seconds (process running for 2.027)
2025-07-28 02:40:24.237 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.presentation.controllers.MerchantControllerTest$ErrorHandling]: ErrorHandling does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 02:40:24.245 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.presentation.controllers.MerchantControllerTest$ErrorHandling
2025-07-28 02:40:24.281 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.presentation.controllers.MerchantControllerTest$SuccessfulCreation]: SuccessfulCreation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 02:40:24.289 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.presentation.controllers.MerchantControllerTest$SuccessfulCreation
2025-07-28 02:40:24.313 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.presentation.controllers.MerchantControllerTest$ValidationTests]: ValidationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 02:40:24.334 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.presentation.controllers.MerchantControllerTest$ValidationTests
2025-07-28 02:42:14.806 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative1] - Starting MerchantControllerTestAlternative1 using Java 17.0.9 with PID 63177 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:42:14.806 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative1] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:42:15.732 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:42:15.733 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:42:15.733 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 02:42:15.796 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative1] - Started MerchantControllerTestAlternative1 in 1.143 seconds (process running for 1.749)
2025-07-28 02:43:18.140 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative2] - Starting MerchantControllerTestAlternative2 using Java 17.0.9 with PID 63224 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:43:18.142 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative2] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:43:19.053 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:43:19.053 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:43:19.054 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 02:43:19.124 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative2] - Started MerchantControllerTestAlternative2 in 1.145 seconds (process running for 1.645)
2025-07-28 02:43:19.417 [Test worker @coroutine#4] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business Corp, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 02:43:19.421 [Test worker @coroutine#4] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: f7c80b33-754f-45de-87bf-167987ec8d03
2025-07-28 02:43:39.465 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative2] - Starting MerchantControllerTestAlternative2 using Java 17.0.9 with PID 63252 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 02:43:39.466 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative2] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 02:43:40.404 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 02:43:40.404 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 02:43:40.405 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 02:43:40.472 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTestAlternative2] - Started MerchantControllerTestAlternative2 in 1.172 seconds (process running for 1.682)
2025-07-28 02:43:40.786 [Test worker @coroutine#4] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business Corp, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 02:43:40.790 [Test worker @coroutine#4] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: c091f349-bbcc-4225-800f-74899159c91e
2025-07-28 03:03:07.514 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 63889 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:03:07.515 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:03:08.443 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:03:08.444 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:03:08.444 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 03:03:08.509 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.176 seconds (process running for 1.831)
2025-07-28 03:03:08.740 [Test worker] WARN  [o.s.w.s.m.s.DefaultHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public java.lang.Object com.paymentsystem.core.presentation.controllers.MerchantController.createMerchant(com.paymentsystem.core.presentation.request.CreateMerchantRequest,kotlin.coroutines.Continuation<? super org.springframework.http.ResponseEntity<java.lang.Object>>) with 2 errors: [Field error in object 'createMerchantRequest' on field 'businessName': rejected value []; codes [NotBlank.createMerchantRequest.businessName,NotBlank.businessName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createMerchantRequest.businessName,businessName]; arguments []; default message [businessName]]; default message [Business name is required]] [Field error in object 'createMerchantRequest' on field 'businessName': rejected value []; codes [Size.createMerchantRequest.businessName,Size.businessName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createMerchantRequest.businessName,businessName]; arguments []; default message [businessName],255,2]; default message [Business name must be between 2 and 255 characters]] ]
2025-07-28 03:08:09.592 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 64166 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:08:09.593 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:08:10.501 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:08:10.501 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:08:10.502 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 03:08:10.567 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.134 seconds (process running for 1.923)
2025-07-28 03:08:10.852 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:08:10.854 [Test worker @coroutine#3] ERROR [c.p.c.p.c.MerchantController] - Unexpected error occurred: Something unexpected happened
java.lang.RuntimeException: Something unexpected happened
	at com.paymentsystem.core.presentation.controllers.MerchantControllerTest.createMerchant should return 500 Internal Server Error for unexpected exceptions(MerchantController.kt:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-07-28 03:08:10.906 [Test worker @coroutine#6] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:08:10.907 [Test worker @coroutine#6] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 4d93c720-45d8-4fe5-8ddd-046173d84111
2025-07-28 03:08:10.930 [Test worker @coroutine#9] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:08:10.931 [Test worker @coroutine#9] WARN  [c.p.c.p.c.MerchantController] - Merchant already exists: Merchant with this email already exists.
2025-07-28 03:08:10.955 [Test worker] WARN  [o.s.w.s.m.s.DefaultHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public java.lang.Object com.paymentsystem.core.presentation.controllers.MerchantController.createMerchant(com.paymentsystem.core.presentation.request.CreateMerchantRequest,kotlin.coroutines.Continuation<? super org.springframework.http.ResponseEntity<java.lang.Object>>) with 2 errors: [Field error in object 'createMerchantRequest' on field 'businessName': rejected value []; codes [Size.createMerchantRequest.businessName,Size.businessName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createMerchantRequest.businessName,businessName]; arguments []; default message [businessName],255,2]; default message [Business name must be between 2 and 255 characters]] [Field error in object 'createMerchantRequest' on field 'businessName': rejected value []; codes [NotBlank.createMerchantRequest.businessName,NotBlank.businessName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createMerchantRequest.businessName,businessName]; arguments []; default message [businessName]]; default message [Business name is required]] ]
2025-07-28 03:08:10.978 [Test worker @coroutine#14] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:08:10.978 [Test worker @coroutine#14] WARN  [c.p.c.p.c.MerchantController] - Invalid merchant input: Invalid balance amount.
2025-07-28 03:19:51.125 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 64567 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:19:51.126 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:19:52.114 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:19:52.114 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:19:52.115 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 03:19:52.172 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.218 seconds (process running for 2.074)
2025-07-28 03:19:52.476 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:19:52.477 [Test worker @coroutine#3] ERROR [c.p.c.p.c.MerchantController] - Unexpected error occurred: Something unexpected happened
java.lang.RuntimeException: Something unexpected happened
	at com.paymentsystem.core.presentation.controllers.MerchantControllerTest.createMerchant should return 500 Internal Server Error for unexpected exceptions(MerchantController.kt:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-07-28 03:19:52.529 [Test worker @coroutine#6] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:19:52.530 [Test worker @coroutine#6] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 8e406266-cfa7-4700-9299-ed0c08a01306
2025-07-28 03:19:52.558 [Test worker @coroutine#9] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:19:52.559 [Test worker @coroutine#9] WARN  [c.p.c.p.c.MerchantController] - Merchant already exists: Merchant with this email already exists.
2025-07-28 03:19:52.587 [Test worker] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public java.lang.Object com.paymentsystem.core.presentation.controllers.MerchantController.createMerchant(com.paymentsystem.core.presentation.request.CreateMerchantRequest,kotlin.coroutines.Continuation<? super org.springframework.http.ResponseEntity<java.lang.Object>>) with 2 errors: [Field error in object 'createMerchantRequest' on field 'businessName': rejected value []; codes [NotBlank.createMerchantRequest.businessName,NotBlank.businessName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createMerchantRequest.businessName,businessName]; arguments []; default message [businessName]]; default message [Business name is required]] [Field error in object 'createMerchantRequest' on field 'businessName': rejected value []; codes [Size.createMerchantRequest.businessName,Size.businessName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createMerchantRequest.businessName,businessName]; arguments []; default message [businessName],255,2]; default message [Business name must be between 2 and 255 characters]] 
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:159)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at org.springframework.test.web.servlet.MockHttpServletRequestDsl.perform$spring_test(MockHttpServletRequestDsl.kt:237)
	at org.springframework.test.web.servlet.MockMvcExtensionsKt.post(MockMvcExtensions.kt:56)
	at com.paymentsystem.core.presentation.controllers.MerchantControllerTest.createMerchant should return 400 Bad Request for invalid request body (e g, blank businessName)(MerchantController.kt:176)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-07-28 03:19:52.619 [Test worker @coroutine#12] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Business, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:19:52.620 [Test worker @coroutine#12] WARN  [c.p.c.p.c.MerchantController] - Invalid merchant input: Invalid balance amount.
2025-07-28 03:48:34.028 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 65756 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:48:34.029 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:48:34.936 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:48:34.936 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:48:34.937 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 03:48:34.997 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.172 seconds (process running for 2.705)
2025-07-28 03:48:35.343 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:48:35.347 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 2b8e49d2-fd47-4b68-8e82-bbafa1e8428e
2025-07-28 03:48:48.089 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 65770 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:48:48.090 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:48:49.022 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:48:49.022 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:48:49.023 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 03:48:49.085 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.16 seconds (process running for 1.868)
2025-07-28 03:48:49.362 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:48:49.366 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 3f8240f3-1917-4d78-91a7-66181bfdb15d
2025-07-28 03:49:43.276 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 65815 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:49:43.277 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:49:44.174 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:49:44.174 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:49:44.175 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 03:49:44.243 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.116 seconds (process running for 1.796)
2025-07-28 03:49:44.510 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:49:44.513 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 7f710fc0-19e3-4e8a-9072-2badbba8dfc8
2025-07-28 03:52:46.177 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 65937 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:52:46.177 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:52:47.119 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:52:47.120 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:52:47.120 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 03:52:47.189 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.165 seconds (process running for 1.911)
2025-07-28 03:52:47.498 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:52:47.501 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: a3065e58-5d77-454b-a864-4824a99b6e11
2025-07-28 03:57:50.413 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 66132 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 03:57:50.414 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 03:57:51.322 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 03:57:51.322 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 03:57:51.323 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 03:57:51.380 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.135 seconds (process running for 1.863)
2025-07-28 03:57:51.666 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 03:57:51.669 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: a9bddf7c-d2ac-428b-ac4f-84bb41328d82
2025-07-28 04:00:26.194 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 66250 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 04:00:26.195 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 04:00:27.131 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 04:00:27.132 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 04:00:27.133 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 04:00:27.195 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.168 seconds (process running for 1.91)
2025-07-28 04:00:27.480 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 04:00:27.482 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: d6882b99-b93c-4266-8cc0-d329775f9aa0
2025-07-28 04:01:29.293 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 66302 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 04:01:29.294 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 04:01:30.198 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 04:01:30.198 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 04:01:30.199 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 04:01:30.261 [Test worker] INFO  [c.p.c.p.c.MerchantControllerTest] - Started MerchantControllerTest in 1.12 seconds (process running for 1.869)
2025-07-28 04:01:30.530 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 04:01:30.533 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: d2c4fe07-64a1-4abc-8e9f-369125fc3e71
2025-07-28 04:03:00.557 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 66368 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 04:03:00.557 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 04:03:01.473 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 04:03:01.474 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 04:03:01.474 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 04:03:01.534 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.135 seconds (process running for 1.852)
2025-07-28 04:03:01.812 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 04:03:01.815 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 61979e93-4e31-4d92-b0f7-8e69ac6c7304
2025-07-28 04:04:11.807 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 66438 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 04:04:11.808 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 04:04:12.706 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 04:04:12.706 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 04:04:12.707 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 04:04:12.766 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.109 seconds (process running for 1.796)
2025-07-28 04:04:13.042 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 04:04:13.044 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: f4802d85-a64a-42ab-adfd-9a99118a22d0
2025-07-28 04:04:38.633 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 66460 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 04:04:38.634 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 04:04:39.555 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 04:04:39.555 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 04:04:39.556 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 04:04:39.617 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.136 seconds (process running for 1.84)
2025-07-28 04:04:39.869 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 04:04:39.872 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 2a8645b7-f161-459b-88fa-dbdf6e28d818
2025-07-28 06:30:28.986 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 72319 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:30:28.987 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:30:29.944 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 06:30:29.945 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 06:30:29.945 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 06:30:30.011 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.232 seconds (process running for 2.651)
2025-07-28 06:30:30.318 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 06:30:30.321 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 930ba5f7-337e-4366-9a4f-e0907c0a0c10
2025-07-28 06:32:14.633 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 72390 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:32:14.636 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:32:14.671 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:32:14.672 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:32:15.537 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:32:15.544 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:32:15.544 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:32:15.561 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:32:15.561 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 889 ms
2025-07-28 06:32:16.059 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:32:16.062 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:32:16.128 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:32:16.139 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.734 seconds (process running for 3.099)
2025-07-28 06:32:16.292 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:32:16.292 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:32:16.292 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:32:16.293 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:32:16.294 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-07-28 06:32:16.409 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@394eb0d2
2025-07-28 06:32:16.411 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:32:16.418 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:32:36.402 [http-nio-8080-exec-1] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:32:36.409 [http-nio-8080-exec-1] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:33:38.052 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:33:38.059 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:33:38.081 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 06:33:38.082 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 06:33:41.243 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 72467 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:33:41.245 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:33:41.270 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:33:41.270 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:33:42.078 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:33:42.087 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:33:42.087 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:33:42.111 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:33:42.111 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 841 ms
2025-07-28 06:33:42.602 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:33:42.604 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:33:42.661 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:33:42.671 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.626 seconds (process running for 2.182)
2025-07-28 06:33:42.845 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:33:42.845 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:33:42.845 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:33:42.846 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:33:42.846 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:33:42.935 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@f7bfc08
2025-07-28 06:33:42.936 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:33:42.944 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:33:49.273 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:33:49.280 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:33:55.847 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:33:55.854 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:33:55.873 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 06:33:55.874 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 06:36:05.003 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Starting PaymentInitiationSystemApplicationTests using Java 17.0.9 with PID 72624 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:36:05.003 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:36:05.966 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:36:06.017 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Started PaymentInitiationSystemApplicationTests in 1.134 seconds (process running for 1.753)
2025-07-28 06:36:06.393 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.UnitTest.MerchantControllerTest]: MerchantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 06:36:06.407 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.UnitTest.MerchantControllerTest
2025-07-28 06:36:06.420 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 72624 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:36:06.421 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:36:06.689 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 06:36:06.689 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 06:36:06.690 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:36:06.744 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 0.332 seconds (process running for 2.481)
2025-07-28 06:36:06.957 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 06:36:06.960 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 78d1befd-f39a-4f29-bb75-c21fbe5f9c7e
2025-07-28 06:38:39.854 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 72756 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:38:39.856 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:38:39.881 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:38:39.881 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:38:40.697 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:38:40.704 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:38:40.705 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:38:40.722 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:38:40.722 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 841 ms
2025-07-28 06:38:41.217 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:38:41.219 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:38:41.282 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:38:41.292 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.653 seconds (process running for 2.538)
2025-07-28 06:38:41.722 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:38:41.722 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:38:41.722 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:38:41.723 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:38:41.723 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:38:41.834 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@77bb8ecb
2025-07-28 06:38:41.836 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:38:41.843 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:38:49.297 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:38:49.305 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:40:51.469 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:40:51.479 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:40:51.511 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 06:40:51.513 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 06:41:05.376 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Starting PaymentInitiationSystemApplicationTests using Java 17.0.9 with PID 72893 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:41:05.377 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:41:06.347 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:41:06.402 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Started PaymentInitiationSystemApplicationTests in 1.142 seconds (process running for 1.786)
2025-07-28 06:41:06.773 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.UnitTest.MerchantControllerTest]: MerchantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 06:41:06.784 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.UnitTest.MerchantControllerTest
2025-07-28 06:41:06.798 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 72893 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:41:06.798 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:41:07.066 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 06:41:07.066 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 06:41:07.067 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:41:07.122 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 0.333 seconds (process running for 2.506)
2025-07-28 06:41:07.321 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 06:41:07.324 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: bf4ec2ab-a447-4fa9-b1a3-3aff54eb6e9f
2025-07-28 06:41:11.774 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 72927 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:41:11.776 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:41:11.803 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:41:11.804 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:41:12.539 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:41:12.545 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:41:12.545 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:41:12.564 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:41:12.564 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 760 ms
2025-07-28 06:41:13.036 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:41:13.038 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:41:13.096 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:41:13.107 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.533 seconds (process running for 2.113)
2025-07-28 06:41:13.654 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:41:13.654 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:41:13.654 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:41:13.655 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:41:13.654 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:41:13.746 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2942471f
2025-07-28 06:41:13.747 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:41:13.756 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:41:23.495 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:41:23.502 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:42:14.784 [http-nio-8080-exec-8] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:42:14.789 [http-nio-8080-exec-8] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:42:44.498 [http-nio-8080-exec-10] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Victor's Store, email=victor@example.com, settlementAccount=1234567890, balance=10000)
2025-07-28 06:42:44.499 [http-nio-8080-exec-10] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: CreateMerchantCommand to CreateMerchantCommandHandler
2025-07-28 06:42:44.499 [http-nio-8080-exec-10] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Handling CreateMerchantCommand for email: victor@example.com
2025-07-28 06:42:44.533 [http-nio-8080-exec-10] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:42:44.533 [http-nio-8080-exec-10] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 1 FROM merchants WHERE email = ? LIMIT 1]
2025-07-28 06:42:44.533 [http-nio-8080-exec-10] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:42:44.576 [http-nio-8080-exec-10] WARN  [c.p.c.p.GlobalExceptionHandler] - Merchant already exists: Merchant with email victor@example.com already exists
2025-07-28 06:42:44.577 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [com.paymentsystem.core.domain.exceptions.MerchantAlreadyExistsException: Merchant with email victor@example.com already exists]
2025-07-28 06:43:41.066 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.TransactionController] - Received ListTransactionsRequest for merchant: 7f970a0d-169c-4794-ab75-b984e299678c with filters: status=SUCCESS, fromDate=2025-07-27T00:00, toDate=2025-07-29T00:00, page=0, size=20
2025-07-28 06:43:41.067 [http-nio-8080-exec-1] INFO  [c.p.c.infrastructure.SimpleQueryBus] - Dispatching query: ListTransactionsQuery to ListTransactionsQueryHandler
2025-07-28 06:43:41.068 [http-nio-8080-exec-1] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Handling ListTransactionsQuery for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 06:43:41.071 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:43:41.071 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 06:43:41.071 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:43:41.088 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:43:41.088 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT COUNT(*) 
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?]
2025-07-28 06:43:41.089 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:43:41.103 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:43:41.103 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 
    id,
    merchant_id,
    merchant_ref,
    internal_ref,
    idempotency_key,
    amount,
    currency,
    fee,
    net_amount,
    retry_count,
    status,
    customer_simulated_debit_status,
    settlement_batch_id,
    created_at,
    updated_at
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?
ORDER BY created_at DESC, id DESC
LIMIT ? OFFSET ?]
2025-07-28 06:43:41.103 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:43:41.107 [DefaultDispatcher-worker-1] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Retrieved 0 transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 06:43:41.108 [DefaultDispatcher-worker-1] INFO  [c.p.c.p.c.TransactionController] - Successfully retrieved 0 transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 06:44:12.013 [http-nio-8080-exec-3] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=7f970a0d-169c-4794-ab75-b984e299678c, merchantRef=INV-20250727-005, amount=100, currency=NGN, idempotencyKey=idemp-20250727-005)
2025-07-28 06:44:12.014 [http-nio-8080-exec-3] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 06:44:12.022 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 06:44:12.025 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@389325872 wrapping org.postgresql.jdbc.PgConnection@2942471f] for JDBC transaction
2025-07-28 06:44:12.027 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@389325872 wrapping org.postgresql.jdbc.PgConnection@2942471f] to manual commit
2025-07-28 06:44:12.031 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 06:44:12.032 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@389325872 wrapping org.postgresql.jdbc.PgConnection@2942471f]
2025-07-28 06:44:12.032 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@389325872 wrapping org.postgresql.jdbc.PgConnection@2942471f] after transaction
2025-07-28 06:44:12.035 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-005
2025-07-28 06:44:12.035 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:12.035 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 06:44:12.035 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:12.039 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 06:44:12.040 [http-nio-8080-exec-3] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 06:44:19.720 [http-nio-8080-exec-4] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=7f970a0d-169c-4794-ab75-b984e299678c, merchantRef=INV-20250727-005, amount=200, currency=NGN, idempotencyKey=idemp-20250727-005)
2025-07-28 06:44:19.721 [http-nio-8080-exec-4] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 06:44:19.721 [http-nio-8080-exec-4] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 06:44:19.722 [http-nio-8080-exec-4] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@762930666 wrapping org.postgresql.jdbc.PgConnection@2942471f] for JDBC transaction
2025-07-28 06:44:19.722 [http-nio-8080-exec-4] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@762930666 wrapping org.postgresql.jdbc.PgConnection@2942471f] to manual commit
2025-07-28 06:44:19.722 [http-nio-8080-exec-4] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 06:44:19.723 [http-nio-8080-exec-4] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@762930666 wrapping org.postgresql.jdbc.PgConnection@2942471f]
2025-07-28 06:44:19.723 [http-nio-8080-exec-4] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@762930666 wrapping org.postgresql.jdbc.PgConnection@2942471f] after transaction
2025-07-28 06:44:19.723 [http-nio-8080-exec-4] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-005
2025-07-28 06:44:19.723 [http-nio-8080-exec-4] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:19.723 [http-nio-8080-exec-4] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 06:44:19.723 [http-nio-8080-exec-4] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:19.724 [http-nio-8080-exec-4] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 06:44:19.725 [http-nio-8080-exec-4] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: 0ea57cce-bf89-491e-8a5d-915a2ed5f02d
2025-07-28 06:44:30.770 [http-nio-8080-exec-5] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=7f970a0d-169c-4794-ab75-b984e299678c, merchantRef=INV-20250727-009, amount=200, currency=NGN, idempotencyKey=idemp-20250727-009)
2025-07-28 06:44:30.771 [http-nio-8080-exec-5] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 06:44:30.771 [http-nio-8080-exec-5] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 06:44:30.772 [http-nio-8080-exec-5] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1040999612 wrapping org.postgresql.jdbc.PgConnection@2942471f] for JDBC transaction
2025-07-28 06:44:30.772 [http-nio-8080-exec-5] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1040999612 wrapping org.postgresql.jdbc.PgConnection@2942471f] to manual commit
2025-07-28 06:44:30.772 [http-nio-8080-exec-5] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 06:44:30.772 [http-nio-8080-exec-5] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1040999612 wrapping org.postgresql.jdbc.PgConnection@2942471f]
2025-07-28 06:44:30.772 [http-nio-8080-exec-5] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1040999612 wrapping org.postgresql.jdbc.PgConnection@2942471f] after transaction
2025-07-28 06:44:30.773 [http-nio-8080-exec-5] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-009
2025-07-28 06:44:30.773 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:30.773 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 06:44:30.773 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:30.776 [http-nio-8080-exec-5] WARN  [c.p.c.i.r.PostgresTransactionRepository] - Query returned no result or failed: Incorrect result size: expected 1, actual 0
2025-07-28 06:44:30.776 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:30.776 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 06:44:30.776 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:30.782 [http-nio-8080-exec-5] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Saving new transaction: ID = 162e98e4-85db-42ff-abce-c2435f2ad463, Status = INITIATED, Amount = 200
2025-07-28 06:44:30.782 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 06:44:30.782 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO transactions (
    id, merchant_id, merchant_ref, internal_ref, amount, currency,
    fee, net_amount, retry_count, status, idempotency_key,
    customer_simulated_debit_status, settlement_batch_id, created_at, updated_at
) VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?,
    ?, ?, ?, ?
)]
2025-07-28 06:44:30.782 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:30.790 [http-nio-8080-exec-5] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction saved: ID = 162e98e4-85db-42ff-abce-c2435f2ad463, rows affected = 1
2025-07-28 06:44:30.791 [http-nio-8080-exec-5] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = 162e98e4-85db-42ff-abce-c2435f2ad463
2025-07-28 06:44:30.791 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:30.791 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 06:44:30.791 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:30.791 [http-nio-8080-exec-5] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 162e98e4-85db-42ff-abce-c2435f2ad463
2025-07-28 06:44:31.313 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 06:44:31.314 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1359321799 wrapping org.postgresql.jdbc.PgConnection@2942471f] for JDBC transaction
2025-07-28 06:44:31.314 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1359321799 wrapping org.postgresql.jdbc.PgConnection@2942471f] to manual commit
2025-07-28 06:44:31.316 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 06:44:31.316 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1359321799 wrapping org.postgresql.jdbc.PgConnection@2942471f]
2025-07-28 06:44:31.316 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1359321799 wrapping org.postgresql.jdbc.PgConnection@2942471f] after transaction
2025-07-28 06:44:31.317 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 06:44:31.317 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 06:44:31.317 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:31.333 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:31.333 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 06:44:31.333 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:31.334 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 06:44:31.334 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@150977299 wrapping org.postgresql.jdbc.PgConnection@2942471f] for JDBC transaction
2025-07-28 06:44:31.334 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@150977299 wrapping org.postgresql.jdbc.PgConnection@2942471f] to manual commit
2025-07-28 06:44:31.334 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 06:44:31.334 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@150977299 wrapping org.postgresql.jdbc.PgConnection@2942471f]
2025-07-28 06:44:31.334 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@150977299 wrapping org.postgresql.jdbc.PgConnection@2942471f] after transaction
2025-07-28 06:44:31.335 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Updating transaction: ID = 162e98e4-85db-42ff-abce-c2435f2ad463, Status = SUCCESS, RetryCount = 0
2025-07-28 06:44:31.335 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 06:44:31.335 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]
2025-07-28 06:44:31.335 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:31.339 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction updated: ID = 162e98e4-85db-42ff-abce-c2435f2ad463, rows affected = 1
2025-07-28 06:44:31.339 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = 162e98e4-85db-42ff-abce-c2435f2ad463
2025-07-28 06:44:31.339 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:31.339 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 06:44:31.339 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:31.340 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = 162e98e4-85db-42ff-abce-c2435f2ad463
2025-07-28 06:44:31.341 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: 162e98e4-85db-42ff-abce-c2435f2ad463
2025-07-28 06:44:34.890 [http-nio-8080-exec-7] INFO  [c.p.c.p.c.TransactionController] - Received ListTransactionsRequest for merchant: 7f970a0d-169c-4794-ab75-b984e299678c with filters: status=SUCCESS, fromDate=2025-07-27T00:00, toDate=2025-07-29T00:00, page=0, size=20
2025-07-28 06:44:34.891 [http-nio-8080-exec-7] INFO  [c.p.c.infrastructure.SimpleQueryBus] - Dispatching query: ListTransactionsQuery to ListTransactionsQueryHandler
2025-07-28 06:44:34.891 [http-nio-8080-exec-7] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Handling ListTransactionsQuery for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 06:44:34.891 [http-nio-8080-exec-7] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:34.892 [http-nio-8080-exec-7] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 06:44:34.892 [http-nio-8080-exec-7] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:34.894 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:34.894 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT COUNT(*) 
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?]
2025-07-28 06:44:34.894 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:34.896 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 06:44:34.896 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 
    id,
    merchant_id,
    merchant_ref,
    internal_ref,
    idempotency_key,
    amount,
    currency,
    fee,
    net_amount,
    retry_count,
    status,
    customer_simulated_debit_status,
    settlement_batch_id,
    created_at,
    updated_at
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?
ORDER BY created_at DESC, id DESC
LIMIT ? OFFSET ?]
2025-07-28 06:44:34.896 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:44:34.897 [DefaultDispatcher-worker-1] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Retrieved 1 transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 06:44:34.897 [DefaultDispatcher-worker-1] INFO  [c.p.c.p.c.TransactionController] - Successfully retrieved 1 transactions for merchant: 7f970a0d-169c-4794-ab75-b984e299678c
2025-07-28 06:44:45.671 [http-nio-8080-exec-9] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:44:45.672 [http-nio-8080-exec-9] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:44:47.275 [http-nio-8080-exec-10] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:44:47.278 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:44:48.183 [http-nio-8080-exec-3] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:44:48.185 [http-nio-8080-exec-3] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:44:57.028 [http-nio-8080-exec-5] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:44:57.034 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:45:21.700 [http-nio-8080-exec-7] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:45:21.703 [http-nio-8080-exec-7] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:45:22.775 [http-nio-8080-exec-9] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:45:22.777 [http-nio-8080-exec-9] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:45:23.634 [http-nio-8080-exec-10] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 06:45:23.635 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type 'java.util.UUID'. Check configuration for 'merchantId']
2025-07-28 06:45:45.862 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:45:45.870 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:45:45.888 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 06:45:45.890 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 06:48:59.832 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Starting PaymentInitiationSystemApplicationTests using Java 17.0.9 with PID 73332 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:48:59.832 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:49:00.815 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:49:00.869 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Started PaymentInitiationSystemApplicationTests in 1.158 seconds (process running for 1.847)
2025-07-28 06:49:01.247 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.UnitTest.MerchantControllerTest]: MerchantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 06:49:01.259 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.UnitTest.MerchantControllerTest
2025-07-28 06:49:01.271 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 73332 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:49:01.272 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:49:01.535 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 06:49:01.535 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 06:49:01.536 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 06:49:01.590 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 0.327 seconds (process running for 2.569)
2025-07-28 06:49:01.817 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 06:49:01.820 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: b69d5e44-a49d-40be-8f4c-54ecbd82cbc9
2025-07-28 06:49:38.004 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 73412 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:49:38.004 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:49:38.931 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 06:49:38.931 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 06:49:38.932 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:49:38.991 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.135 seconds (process running for 1.812)
2025-07-28 06:49:39.246 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 06:49:39.248 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 32d1caa4-bf32-41a6-ad6b-eab252470caa
2025-07-28 06:49:39.277 [Test worker] INFO  [o.s.t.c.s.AnnotationConfigContextLoaderUtils] - Could not detect default configuration classes for test class [com.paymentsystem.core.PaymentInitiationSystemApplicationTests]: PaymentInitiationSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-28 06:49:39.286 [Test worker] INFO  [o.s.b.t.c.SpringBootTestContextBootstrapper] - Found @SpringBootConfiguration com.paymentsystem.core.PaymentInitiationSystemApplication for test class com.paymentsystem.core.PaymentInitiationSystemApplicationTests
2025-07-28 06:49:39.303 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Starting PaymentInitiationSystemApplicationTests using Java 17.0.9 with PID 73412 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:49:39.303 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:49:40.023 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:49:40.071 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Started PaymentInitiationSystemApplicationTests in 0.782 seconds (process running for 2.892)
2025-07-28 06:55:26.658 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 73632 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:55:26.660 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:55:26.682 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:55:26.683 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:55:27.472 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:55:27.479 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:55:27.480 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:55:27.501 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:55:27.502 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 819 ms
2025-07-28 06:55:28.025 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:55:28.028 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:55:28.089 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:55:28.101 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.633 seconds (process running for 3.011)
2025-07-28 06:55:28.102 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:55:28.118 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:55:35.344 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Starting PaymentInitiationSystemApplicationTests using Java 17.0.9 with PID 73673 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:55:35.345 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:55:36.323 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:55:36.378 [Test worker] INFO  [c.p.c.PaymentInitiationSystemApplicationTests] - Started PaymentInitiationSystemApplicationTests in 1.154 seconds (process running for 1.772)
2025-07-28 06:55:42.819 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 73707 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:55:42.820 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:55:42.849 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:55:42.849 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:55:43.638 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:55:43.644 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:55:43.644 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:55:43.661 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:55:43.662 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 813 ms
2025-07-28 06:55:44.167 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:55:44.170 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:55:44.231 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:55:44.241 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.617 seconds (process running for 2.16)
2025-07-28 06:55:44.436 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:55:44.436 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:55:44.436 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:55:44.437 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:55:44.437 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:55:44.539 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4a372847
2025-07-28 06:55:44.541 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:55:44.548 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:55:52.246 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:55:52.253 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:56:40.444 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:56:40.451 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:56:40.474 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 06:56:40.475 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 06:57:07.256 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 73772 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:57:07.257 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:57:07.280 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:57:07.280 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:57:08.049 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:57:08.056 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:57:08.056 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:57:08.075 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:57:08.075 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 795 ms
2025-07-28 06:57:08.558 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:57:08.561 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:57:08.623 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:57:08.633 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.572 seconds (process running for 2.14)
2025-07-28 06:57:09.013 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:57:09.013 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:57:09.013 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:57:09.014 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:57:09.013 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:57:09.105 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f1de6bc
2025-07-28 06:57:09.107 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:57:09.114 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:57:16.314 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:57:16.322 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:57:55.073 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 06:57:55.083 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 06:57:55.103 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 06:57:55.105 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 06:57:58.812 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 73812 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 06:57:58.814 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 06:57:58.835 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 06:57:58.835 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 06:57:59.581 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 06:57:59.586 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 06:57:59.586 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 06:57:59.603 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 06:57:59.604 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 769 ms
2025-07-28 06:58:00.049 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 06:58:00.051 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 06:58:00.105 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 06:58:00.115 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.484 seconds (process running for 1.996)
2025-07-28 06:58:00.438 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:58:00.439 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 06:58:00.439 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 06:58:00.439 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 06:58:00.440 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 06:58:00.521 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5fb6a73c
2025-07-28 06:58:00.522 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 06:58:00.529 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 06:58:06.358 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:58:06.366 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:58:07.075 [http-nio-8080-exec-8] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:58:07.076 [http-nio-8080-exec-8] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 06:58:07.720 [http-nio-8080-exec-2] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 06:58:07.721 [http-nio-8080-exec-2] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 07:04:21.772 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:04:21.786 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:04:21.814 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:04:21.815 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:05:02.992 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74025 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:05:02.993 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:05:03.018 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:05:03.018 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:05:03.789 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:05:03.796 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:05:03.796 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:05:03.814 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:05:03.814 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 795 ms
2025-07-28 07:05:04.307 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:05:04.311 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:05:04.376 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:05:04.387 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.589 seconds (process running for 2.197)
2025-07-28 07:05:04.569 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:05:04.569 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:05:04.569 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:05:04.570 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 07:05:04.570 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:05:04.661 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@29bcd430
2025-07-28 07:05:04.662 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:05:04.669 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:05:11.488 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 07:05:11.496 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 07:05:14.369 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:05:14.374 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:05:14.395 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:05:14.395 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:09:30.401 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74213 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:09:30.402 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:09:30.424 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:09:30.425 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:09:31.198 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:09:31.204 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:09:31.204 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:09:31.222 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:09:31.222 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 797 ms
2025-07-28 07:09:31.711 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:09:31.714 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:09:31.775 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:09:31.785 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.586 seconds (process running for 2.298)
2025-07-28 07:09:31.916 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:09:31.916 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:09:31.917 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-07-28 07:09:31.917 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:09:31.917 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:09:32.023 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@42f2a7b0
2025-07-28 07:09:32.024 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:09:32.030 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:12:07.423 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:12:07.445 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:12:07.509 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:12:07.510 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:12:28.045 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74351 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:12:28.046 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:12:28.074 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:12:28.074 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:12:28.373 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74353 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:12:28.375 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:12:28.410 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:12:28.410 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:12:29.039 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:12:29.046 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:12:29.046 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:12:29.066 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:12:29.066 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 992 ms
2025-07-28 07:12:29.180 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:12:29.187 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:12:29.187 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:12:29.206 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:12:29.206 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 796 ms
2025-07-28 07:12:29.610 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:12:29.613 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:12:29.681 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:12:29.692 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.908 seconds (process running for 2.53)
2025-07-28 07:12:29.713 [restartedMain] WARN  [o.s.b.d.a.OptionalLiveReloadServer] - Unable to start LiveReload server
2025-07-28 07:12:29.717 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:12:29.782 [restartedMain] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-07-28 07:12:29.796 [restartedMain] INFO  [o.s.b.a.l.ConditionEvaluationReportLogger] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28 07:12:29.804 [restartedMain] ERROR [o.s.b.d.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-07-28 07:12:30.053 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:12:30.054 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:12:30.055 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:12:30.055 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:12:30.055 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-07-28 07:12:30.134 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59e3b98d
2025-07-28 07:12:30.136 [RMI TCP Connection(2)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:12:30.142 [RMI TCP Connection(2)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:12:38.298 [http-nio-8080-exec-4] ERROR [c.p.c.p.GlobalExceptionHandler] - Unexpected error occurred
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)'
	at org.springdoc.core.service.GenericResponseService.lambda$getGenericMapResponse$8(GenericResponseService.java:705)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springdoc.core.service.GenericResponseService.getGenericMapResponse(GenericResponseService.java:707)
	at org.springdoc.core.service.GenericResponseService.build(GenericResponseService.java:246)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:499)
	at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:676)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200)
	at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149)
	at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:353)
	at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124)
	at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:114)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-07-28 07:12:38.305 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-07-28 07:12:43.302 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:12:43.308 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:12:43.323 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:12:43.324 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:13:56.467 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74426 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:13:56.468 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:13:56.493 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:13:56.493 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:13:57.281 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:13:57.288 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:13:57.288 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:13:57.308 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:13:57.308 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 814 ms
2025-07-28 07:13:57.805 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:13:57.808 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:13:57.863 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:13:57.873 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.613 seconds (process running for 2.264)
2025-07-28 07:13:58.500 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:13:58.500 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:13:58.500 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:13:58.501 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:13:58.502 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-07-28 07:13:58.602 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2b181863
2025-07-28 07:13:58.603 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:13:58.610 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:14:57.556 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:14:57.564 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:14:57.638 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:14:57.641 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:15:00.905 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74489 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:15:00.906 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:15:00.928 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:15:00.928 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:15:01.649 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:15:01.655 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:15:01.655 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:15:01.674 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:15:01.674 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 746 ms
2025-07-28 07:15:02.162 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:15:02.164 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:15:02.224 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:15:02.235 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.523 seconds (process running for 2.064)
2025-07-28 07:15:02.536 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:15:02.536 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:15:02.537 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:15:02.537 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 07:15:02.537 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:15:02.616 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b34a192
2025-07-28 07:15:02.618 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:15:02.624 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:15:14.489 [http-nio-8080-exec-3] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 307 ms
2025-07-28 07:15:36.787 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:15:36.794 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:15:36.819 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:15:36.821 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:15:58.791 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74550 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:15:58.793 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:15:58.821 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:15:58.821 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:15:59.597 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:15:59.604 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:15:59.604 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:15:59.623 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:15:59.623 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 802 ms
2025-07-28 07:16:00.113 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:16:00.116 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:16:00.180 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:16:00.190 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.612 seconds (process running for 2.192)
2025-07-28 07:16:00.378 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:16:00.378 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:16:00.379 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:16:00.379 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-07-28 07:16:00.379 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:16:00.465 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45185918
2025-07-28 07:16:00.467 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:16:00.474 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:16:11.885 [http-nio-8080-exec-4] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 232 ms
2025-07-28 07:16:50.985 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:16:50.994 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:16:51.014 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:16:51.015 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:20:51.029 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74807 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:20:51.030 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:20:51.055 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:20:51.055 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:20:51.834 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:20:51.841 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:20:51.841 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:20:51.863 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:20:51.864 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 808 ms
2025-07-28 07:20:52.337 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:20:52.340 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:20:52.403 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:20:52.414 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.576 seconds (process running for 2.303)
2025-07-28 07:20:52.541 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:20:52.541 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:20:52.541 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:20:52.542 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 07:20:52.542 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:20:52.635 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4080c5b
2025-07-28 07:20:52.636 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:20:52.644 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:21:06.737 [http-nio-8080-exec-4] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 264 ms
2025-07-28 07:21:29.810 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:21:29.818 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:21:29.840 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:21:29.841 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:21:39.354 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 74855 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:21:39.356 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:21:39.393 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:21:39.393 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:21:40.150 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:21:40.156 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:21:40.156 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:21:40.174 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:21:40.174 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 781 ms
2025-07-28 07:21:40.720 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:21:40.722 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:21:40.789 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:21:40.801 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.644 seconds (process running for 2.217)
2025-07-28 07:21:41.241 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:21:41.242 [RMI TCP Connection(5)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:21:41.242 [RMI TCP Connection(5)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:21:41.242 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:21:41.242 [RMI TCP Connection(5)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-07-28 07:21:41.350 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e7c658d
2025-07-28 07:21:41.351 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:21:41.358 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:21:46.710 [http-nio-8080-exec-4] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 200 ms
2025-07-28 07:21:59.683 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:21:59.690 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:21:59.695 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:21:59.696 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:28:59.288 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 75125 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:28:59.290 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:28:59.320 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:28:59.320 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:29:00.042 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:29:00.048 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:29:00.048 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:29:00.066 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:29:00.066 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 745 ms
2025-07-28 07:29:00.567 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:29:00.570 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:29:00.607 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:29:00.617 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.548 seconds (process running for 2.119)
2025-07-28 07:29:00.930 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:29:00.930 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:29:00.931 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 07:29:00.932 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:29:00.932 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:29:01.035 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c3fec78
2025-07-28 07:29:01.036 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:29:01.043 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:30:36.186 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:30:36.194 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:30:36.200 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 07:30:36.201 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 07:54:06.825 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 76070 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:54:06.827 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:54:06.852 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:54:06.852 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:54:07.586 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:54:07.595 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:54:07.595 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:54:07.618 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:54:07.618 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 766 ms
2025-07-28 07:54:08.129 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:54:08.132 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:54:08.171 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:54:08.181 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.596 seconds (process running for 3.158)
2025-07-28 07:54:14.278 [http-nio-8080-exec-1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:54:14.278 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:54:14.279 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 07:54:14.747 [http-nio-8080-exec-8] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 278 ms
2025-07-28 07:59:33.413 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 07:59:33.429 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 07:59:36.868 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 76285 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 07:59:36.869 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 07:59:36.893 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 07:59:36.893 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 07:59:37.574 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 07:59:37.580 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 07:59:37.580 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 07:59:37.597 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 07:59:37.598 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 705 ms
2025-07-28 07:59:38.006 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 07:59:38.009 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 07:59:38.044 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 07:59:38.054 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.432 seconds (process running for 2.075)
2025-07-28 07:59:38.640 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 07:59:38.640 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 07:59:38.640 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 07:59:38.641 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 07:59:38.640 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 07:59:38.738 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@34582c32
2025-07-28 07:59:38.742 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 07:59:38.749 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:03:25.157 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 08:03:25.168 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 08:03:25.181 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 08:03:25.184 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 08:03:31.681 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 76468 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:03:31.682 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:03:31.709 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 08:03:31.710 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 08:03:32.422 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 08:03:32.428 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 08:03:32.428 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 08:03:32.446 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 08:03:32.446 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 736 ms
2025-07-28 08:03:32.917 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 08:03:32.919 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 08:03:32.957 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 08:03:32.968 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.558 seconds (process running for 2.159)
2025-07-28 08:03:33.213 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:03:33.213 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 08:03:33.216 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 08:03:33.216 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 08:03:33.217 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 08:03:33.315 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9962fc9
2025-07-28 08:03:33.316 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 08:03:33.322 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:05:31.571 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 08:05:31.580 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 08:05:31.588 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 08:05:31.590 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 08:13:55.185 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 76894 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:13:55.186 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:13:55.215 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 08:13:55.215 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 08:13:56.020 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 08:13:56.028 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 08:13:56.028 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 08:13:56.049 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 08:13:56.049 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 834 ms
2025-07-28 08:13:56.583 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 08:13:56.585 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 08:13:56.628 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 08:13:56.639 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.646 seconds (process running for 2.616)
2025-07-28 08:13:56.919 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:13:56.920 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 08:13:56.922 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 08:13:56.922 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 08:13:56.923 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 08:13:57.055 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4029e3e8
2025-07-28 08:13:57.056 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 08:13:57.063 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:14:15.414 [http-nio-8080-exec-8] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 249 ms
2025-07-28 08:14:30.369 [http-nio-8080-exec-10] ERROR [o.a.c.c.C.[.[.[.[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoClassDefFoundError: org/reactivestreams/Publisher] with root cause
java.lang.ClassNotFoundException: org.reactivestreams.Publisher
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeSuspendingFunction(InvocableHandlerMethod.java:294)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:252)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 08:17:39.532 [http-nio-8080-exec-7] ERROR [o.a.c.c.C.[.[.[.[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoClassDefFoundError: org/reactivestreams/Publisher] with root cause
java.lang.ClassNotFoundException: org.reactivestreams.Publisher
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeSuspendingFunction(InvocableHandlerMethod.java:294)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:252)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 08:19:00.985 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 08:19:00.996 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 08:19:01.007 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 08:19:01.031 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 08:20:56.260 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 77204 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:20:56.263 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:20:56.287 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 08:20:56.287 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 08:20:57.063 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 08:20:57.069 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 08:20:57.069 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 08:20:57.088 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 08:20:57.088 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 800 ms
2025-07-28 08:20:57.617 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 08:20:57.619 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 08:20:57.659 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 08:20:57.670 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.605 seconds (process running for 2.583)
2025-07-28 08:20:58.275 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:20:58.276 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 08:20:58.277 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 08:20:58.276 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 08:20:58.279 [RMI TCP Connection(4)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-07-28 08:20:58.469 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@31f83584
2025-07-28 08:20:58.470 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 08:20:58.478 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:02.771 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Victor's Store, email=victor@example.com, settlementAccount=1234567890, balance=10000)
2025-07-28 08:21:02.771 [http-nio-8080-exec-1] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: CreateMerchantCommand to CreateMerchantCommandHandler
2025-07-28 08:21:02.776 [http-nio-8080-exec-1] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Handling CreateMerchantCommand for email: victor@example.com
2025-07-28 08:21:02.789 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:02.789 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 1 FROM merchants WHERE email = ? LIMIT 1]
2025-07-28 08:21:02.789 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:06.030 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:21:06.033 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1837770397 wrapping org.postgresql.jdbc.PgConnection@31f83584] for JDBC transaction
2025-07-28 08:21:06.034 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1837770397 wrapping org.postgresql.jdbc.PgConnection@31f83584] to manual commit
2025-07-28 08:21:06.036 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:21:06.036 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1837770397 wrapping org.postgresql.jdbc.PgConnection@31f83584]
2025-07-28 08:21:06.037 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1837770397 wrapping org.postgresql.jdbc.PgConnection@31f83584] after transaction
2025-07-28 08:21:06.038 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 08:21:06.038 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 08:21:06.038 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:06.044 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:06.044 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 08:21:06.044 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:06.049 [http-nio-8080-exec-1] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Successfully saved merchant with ID: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc
2025-07-28 08:21:06.051 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc
2025-07-28 08:21:21.079 [http-nio-8080-exec-3] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=5f065369-5939-48f8-90ed-d7a1fb4ff4bc, merchantRef=INV-20250727-009, amount=200, currency=NGN, idempotencyKey=idemp-20250727-009)
2025-07-28 08:21:21.080 [http-nio-8080-exec-3] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 08:21:21.080 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:21:21.081 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@629218884 wrapping org.postgresql.jdbc.PgConnection@31f83584] for JDBC transaction
2025-07-28 08:21:21.081 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@629218884 wrapping org.postgresql.jdbc.PgConnection@31f83584] to manual commit
2025-07-28 08:21:21.084 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:21:21.084 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@629218884 wrapping org.postgresql.jdbc.PgConnection@31f83584]
2025-07-28 08:21:21.084 [http-nio-8080-exec-3] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@629218884 wrapping org.postgresql.jdbc.PgConnection@31f83584] after transaction
2025-07-28 08:21:21.099 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-009
2025-07-28 08:21:21.100 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:21.100 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 08:21:21.100 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:21.111 [http-nio-8080-exec-3] WARN  [c.p.c.i.r.PostgresTransactionRepository] - Query returned no result or failed: Incorrect result size: expected 1, actual 0
2025-07-28 08:21:26.020 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:26.022 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 08:21:26.023 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.055 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Saving new transaction: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3, Status = INITIATED, Amount = 200
2025-07-28 08:21:26.055 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 08:21:26.055 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO transactions (
    id, merchant_id, merchant_ref, internal_ref, amount, currency,
    fee, net_amount, retry_count, status, idempotency_key,
    customer_simulated_debit_status, settlement_batch_id, created_at, updated_at
) VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?,
    ?, ?, ?, ?
)]
2025-07-28 08:21:26.055 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.062 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction saved: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3, rows affected = 1
2025-07-28 08:21:26.062 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 08:21:26.062 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:26.062 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 08:21:26.062 [http-nio-8080-exec-3] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.064 [http-nio-8080-exec-3] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 08:21:26.583 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresMerchantRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:21:26.585 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@2141168279 wrapping org.postgresql.jdbc.PgConnection@31f83584] for JDBC transaction
2025-07-28 08:21:26.585 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@2141168279 wrapping org.postgresql.jdbc.PgConnection@31f83584] to manual commit
2025-07-28 08:21:26.586 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:21:26.586 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@2141168279 wrapping org.postgresql.jdbc.PgConnection@31f83584]
2025-07-28 08:21:26.586 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@2141168279 wrapping org.postgresql.jdbc.PgConnection@31f83584] after transaction
2025-07-28 08:21:26.586 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 08:21:26.586 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO merchants (
    id, business_name, email, settlement_account, status, 
    balance, locked_balance, failed_attempts
)
VALUES (
    ?, ?, ?, ?, ?, 
    ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    business_name = EXCLUDED.business_name,
    email = EXCLUDED.email,
    settlement_account = EXCLUDED.settlement_account,
    status = EXCLUDED.status,
    balance = EXCLUDED.balance,
    locked_balance = EXCLUDED.locked_balance,
    failed_attempts = EXCLUDED.failed_attempts]
2025-07-28 08:21:26.586 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.598 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:26.599 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 08:21:26.599 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.601 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresTransactionRepository.update]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:21:26.601 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1380894189 wrapping org.postgresql.jdbc.PgConnection@31f83584] for JDBC transaction
2025-07-28 08:21:26.601 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1380894189 wrapping org.postgresql.jdbc.PgConnection@31f83584] to manual commit
2025-07-28 08:21:26.602 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:21:26.602 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1380894189 wrapping org.postgresql.jdbc.PgConnection@31f83584]
2025-07-28 08:21:26.602 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1380894189 wrapping org.postgresql.jdbc.PgConnection@31f83584] after transaction
2025-07-28 08:21:26.603 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Updating transaction: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3, Status = SUCCESS, RetryCount = 0
2025-07-28 08:21:26.604 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 08:21:26.604 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions 
SET status = ?, 
    customer_simulated_debit_status = ?,
    retry_count = ?,
    settlement_batch_id = ?,
    updated_at = ?
WHERE id = ?]
2025-07-28 08:21:26.604 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.606 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction updated: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3, rows affected = 1
2025-07-28 08:21:26.607 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - 🔍 Searching for transaction by ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 08:21:26.607 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:26.607 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE id = ?]
2025-07-28 08:21:26.607 [kotlinx.coroutines.DefaultExecutor] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:26.607 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 08:21:26.610 [kotlinx.coroutines.DefaultExecutor] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 08:21:42.599 [http-nio-8080-exec-5] INFO  [c.p.c.p.c.TransactionController] - Received ListTransactionsRequest for merchant: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc with filters: status=SUCCESS, fromDate=2025-07-27T00:00, toDate=2025-07-29T00:00, page=0, size=20
2025-07-28 08:21:42.602 [http-nio-8080-exec-5] INFO  [c.p.c.infrastructure.SimpleQueryBus] - Dispatching query: ListTransactionsQuery to ListTransactionsQueryHandler
2025-07-28 08:21:42.605 [http-nio-8080-exec-5] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Handling ListTransactionsQuery for merchant: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc
2025-07-28 08:21:42.606 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:42.606 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 08:21:42.606 [http-nio-8080-exec-5] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:42.617 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:42.617 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT COUNT(*) 
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?]
2025-07-28 08:21:42.617 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:42.622 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:21:42.622 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 
    id,
    merchant_id,
    merchant_ref,
    internal_ref,
    idempotency_key,
    amount,
    currency,
    fee,
    net_amount,
    retry_count,
    status,
    customer_simulated_debit_status,
    settlement_batch_id,
    created_at,
    updated_at
FROM transactions 
WHERE merchant_id = ? AND status = ? AND created_at >= ? AND created_at <= ?
ORDER BY created_at DESC, id DESC
LIMIT ? OFFSET ?]
2025-07-28 08:21:42.622 [DefaultDispatcher-worker-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:21:42.626 [DefaultDispatcher-worker-1] INFO  [c.p.c.a.q.ListTransactionsQueryHandler] - Retrieved 1 transactions for merchant: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc
2025-07-28 08:21:42.628 [DefaultDispatcher-worker-1] INFO  [c.p.c.p.c.TransactionController] - Successfully retrieved 1 transactions for merchant: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc
2025-07-28 08:21:52.155 [http-nio-8080-exec-7] ERROR [o.a.c.c.C.[.[.[.[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.util.UUID'. Check configuration for 'merchantId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 08:23:30.196 [http-nio-8080-exec-9] ERROR [o.a.c.c.C.[.[.[.[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.util.UUID'. Check configuration for 'merchantId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.util.UUID'. Check configuration for 'merchantId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:105)
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:291)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-07-28 08:23:34.206 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 08:23:34.213 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 08:23:34.220 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 08:23:34.221 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 08:23:51.819 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 77341 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:23:51.821 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:23:51.844 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 08:23:51.845 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 08:23:52.707 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 08:23:52.717 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 08:23:52.718 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 08:23:52.746 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 08:23:52.746 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 901 ms
2025-07-28 08:23:53.300 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 08:23:53.302 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 08:23:53.343 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 08:23:53.353 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.811 seconds (process running for 2.604)
2025-07-28 08:23:53.805 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 08:23:53.805 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 08:23:53.805 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:23:53.806 [RMI TCP Connection(3)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 08:23:53.806 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 08:23:53.898 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@362000e0
2025-07-28 08:23:53.899 [RMI TCP Connection(1)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 08:23:53.911 [RMI TCP Connection(1)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:24:06.328 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.SettlementController] - Received request to settle transactions for merchant: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc, limit: 100
2025-07-28 08:24:06.330 [http-nio-8080-exec-2] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: SettleTransactionsCommand to SettleTransactionsHandler$$SpringCGLIB$$0
2025-07-28 08:24:06.340 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.commandhandlers.SettleTransactionsHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:24:06.342 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@474905030 wrapping org.postgresql.jdbc.PgConnection@362000e0] for JDBC transaction
2025-07-28 08:24:06.343 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@474905030 wrapping org.postgresql.jdbc.PgConnection@362000e0] to manual commit
2025-07-28 08:24:06.350 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:24:06.350 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@474905030 wrapping org.postgresql.jdbc.PgConnection@362000e0]
2025-07-28 08:24:06.350 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@474905030 wrapping org.postgresql.jdbc.PgConnection@362000e0] after transaction
2025-07-28 08:24:06.369 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.SettleTransactionsHandler] - Starting settlement process for merchant: 5f065369-5939-48f8-90ed-d7a1fb4ff4bc, limit: 100
2025-07-28 08:24:11.046 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:24:11.055 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT id, business_name, email, settlement_account, status, 
       balance, locked_balance, failed_attempts, created_at, updated_at
FROM merchants
WHERE id = ?]
2025-07-28 08:24:11.057 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:24:24.917 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:24:24.917 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions
WHERE merchant_id = ?
  AND status = ?
  AND settlement_batch_id IS NULL
ORDER BY created_at ASC
LIMIT ?]
2025-07-28 08:24:24.917 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:24:36.279 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.SettleTransactionsHandler] - Settlement calculation - Total amount: 200.00, Total fee: 3.00, Transaction count: 1
2025-07-28 08:24:36.335 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresSettlementRepository.saveSettlementBatch]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:24:36.336 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1261645036 wrapping org.postgresql.jdbc.PgConnection@362000e0] for JDBC transaction
2025-07-28 08:24:36.337 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1261645036 wrapping org.postgresql.jdbc.PgConnection@362000e0] to manual commit
2025-07-28 08:24:36.342 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:24:36.342 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1261645036 wrapping org.postgresql.jdbc.PgConnection@362000e0]
2025-07-28 08:24:36.343 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1261645036 wrapping org.postgresql.jdbc.PgConnection@362000e0] after transaction
2025-07-28 08:24:36.347 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 08:24:36.347 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [INSERT INTO settlement_batches (
    id, batch_ref, merchant_id, total_amount, total_fee, net_amount,
    currency, transaction_count, status, created_at, updated_at
)
VALUES (
    ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?
)
ON CONFLICT (id) DO UPDATE SET
    status = EXCLUDED.status,
    updated_at = EXCLUDED.updated_at]
2025-07-28 08:24:36.347 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:24:36.356 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 08:24:36.356 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM settlement_batches
WHERE id = ?]
2025-07-28 08:24:36.356 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:24:36.358 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.infrastructure.repository.PostgresSettlementRepository.updateTransactionsWithBatch]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 08:24:36.358 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@390953566 wrapping org.postgresql.jdbc.PgConnection@362000e0] for JDBC transaction
2025-07-28 08:24:36.358 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@390953566 wrapping org.postgresql.jdbc.PgConnection@362000e0] to manual commit
2025-07-28 08:24:36.360 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 08:24:36.360 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@390953566 wrapping org.postgresql.jdbc.PgConnection@362000e0]
2025-07-28 08:24:36.360 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@390953566 wrapping org.postgresql.jdbc.PgConnection@362000e0] after transaction
2025-07-28 08:24:36.360 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL update
2025-07-28 08:24:36.361 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [UPDATE transactions
SET settlement_batch_id = ?,
    status = ?,
    updated_at = now() at time zone 'UTC'
WHERE id = ANY(?)
  AND status = ?
  AND settlement_batch_id IS NULL]
2025-07-28 08:24:36.361 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 08:24:36.375 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.SettleTransactionsHandler] - Settlement batch created successfully: 3377a68a-ce63-4303-8fa8-32511cc4fbac with 1 transactions
2025-07-28 08:24:36.375 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.SettlementController] - Successfully settled 1 transactions into batch 3377a68a-ce63-4303-8fa8-32511cc4fbac
2025-07-28 08:24:47.942 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 08:24:47.950 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 08:24:47.958 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 08:24:47.960 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 08:33:13.164 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 77869 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:33:13.166 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:33:14.402 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 08:33:14.402 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 08:33:14.403 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 08:33:14.451 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.476 seconds (process running for 2.769)
2025-07-28 08:33:14.820 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 08:33:14.825 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 154d9250-9705-47ef-a580-aae201814e82
2025-07-28 08:49:18.729 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 78637 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:49:18.730 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:49:19.691 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 08:49:19.691 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 08:49:19.692 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 08:49:19.715 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.153 seconds (process running for 1.924)
2025-07-28 08:49:20.026 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 08:49:20.029 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: c9748e81-ddca-4d4f-8f68-cf69b31621cd
2025-07-28 08:51:05.396 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 78729 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:51:05.397 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:51:07.030 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 08:51:07.067 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.808 seconds (process running for 2.448)
2025-07-28 08:51:07.097 [Test worker] WARN  [o.s.test.context.TestContextManager] - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.paymentsystem.core.UnitTest.MerchantControllerTest@49bf5ec8]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.paymentsystem.core.UnitTest.MerchantControllerTest': Unsatisfied dependency expressed through field 'webTestClient': No qualifying bean of type 'org.springframework.test.web.reactive.server.WebTestClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:405)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:156)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.test.web.reactive.server.WebTestClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 97 common frames omitted
2025-07-28 08:52:33.467 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 78827 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:52:33.467 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:52:34.202 [Test worker] WARN  [o.s.w.c.s.GenericWebApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'settlementController' defined in file [/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main/com/paymentsystem/core/presentation/controllers/SettlementController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-28 08:52:34.217 [Test worker] INFO  [o.s.b.a.l.ConditionEvaluationReportLogger] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28 08:52:34.235 [Test worker] ERROR [o.s.b.d.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.paymentsystem.core.presentation.controllers.SettlementController required a bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' that could not be found.


Action:

Consider defining a bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' in your configuration.

2025-07-28 08:52:34.238 [Test worker] WARN  [o.s.test.context.TestContextManager] - Caught exception while allowing TestExecutionListener [com.ninjasquad.springmockk.MockkTestExecutionListener] to prepare test instance [com.paymentsystem.core.UnitTest.MerchantControllerTest@5876bed9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2591d23a testClass = com.paymentsystem.core.UnitTest.MerchantControllerTest, locations = [], classes = [com.paymentsystem.core.PaymentInitiationSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [MockkContextCustomizer(definitions=[[MockkDefinition@6c1f15df name = [null], typeToMock = com.paymentsystem.core.application.interfaces.CommandBus, extraInterfaces = set[[empty]], clear = AFTER]]), org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@3971f0fe, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@455824ad, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@47ae2cbc, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@490522a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@34fe326d, [ImportsContextCustomizer@5e95b0ab key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@186cb891, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7fc7c4a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4da9f723, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@d00f436a], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at com.ninjasquad.springmockk.MockkTestExecutionListener.postProcessFields(MockkTestExecutionListener.kt:85)
	at com.ninjasquad.springmockk.MockkTestExecutionListener.injectFields(MockkTestExecutionListener.kt:55)
	at com.ninjasquad.springmockk.MockkTestExecutionListener.prepareTestInstance(MockkTestExecutionListener.kt:30)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'settlementController' defined in file [/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main/com/paymentsystem/core/presentation/controllers/SettlementController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 94 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 120 common frames omitted
2025-07-28 08:52:56.499 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 78856 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 08:52:56.500 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 08:52:57.197 [Test worker] WARN  [o.s.w.c.s.GenericWebApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'settlementController' defined in file [/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main/com/paymentsystem/core/presentation/controllers/SettlementController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-28 08:52:57.211 [Test worker] INFO  [o.s.b.a.l.ConditionEvaluationReportLogger] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28 08:52:57.228 [Test worker] ERROR [o.s.b.d.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.paymentsystem.core.presentation.controllers.SettlementController required a bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' that could not be found.


Action:

Consider defining a bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' in your configuration.

2025-07-28 08:52:57.231 [Test worker] WARN  [o.s.test.context.TestContextManager] - Caught exception while allowing TestExecutionListener [com.ninjasquad.springmockk.MockkTestExecutionListener] to prepare test instance [com.paymentsystem.core.UnitTest.MerchantControllerTest@5e95b0ab]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@39e7e040 testClass = com.paymentsystem.core.UnitTest.MerchantControllerTest, locations = [], classes = [com.paymentsystem.core.PaymentInitiationSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [MockkContextCustomizer(definitions=[[MockkDefinition@2591d23a name = [null], typeToMock = com.paymentsystem.core.application.interfaces.CommandBus, extraInterfaces = set[[empty]], clear = AFTER]]), org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@3971f0fe, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@455824ad, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@47ae2cbc, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@490522a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@34fe326d, [ImportsContextCustomizer@6c1f15df key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@186cb891, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7fc7c4a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4da9f723, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@d00f436a], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at com.ninjasquad.springmockk.MockkTestExecutionListener.postProcessFields(MockkTestExecutionListener.kt:85)
	at com.ninjasquad.springmockk.MockkTestExecutionListener.injectFields(MockkTestExecutionListener.kt:55)
	at com.ninjasquad.springmockk.MockkTestExecutionListener.prepareTestInstance(MockkTestExecutionListener.kt:30)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'settlementController' defined in file [/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main/com/paymentsystem/core/presentation/controllers/SettlementController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 94 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.paymentsystem.core.presentation.mappers.SettlementResponseMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 120 common frames omitted
2025-07-28 09:01:03.482 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 79269 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 09:01:03.484 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 09:01:05.138 [Test worker] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 09:01:05.173 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.835 seconds (process running for 2.664)
2025-07-28 09:01:05.204 [Test worker] WARN  [o.s.test.context.TestContextManager] - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.paymentsystem.core.UnitTest.MerchantControllerTest@25134e01]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.paymentsystem.core.UnitTest.MerchantControllerTest': Unsatisfied dependency expressed through field 'webTestClient': No qualifying bean of type 'org.springframework.test.web.reactive.server.WebTestClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:405)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:156)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.test.web.reactive.server.WebTestClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 97 common frames omitted
2025-07-28 09:04:01.250 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 79413 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 09:04:01.251 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 09:04:02.173 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 09:04:02.173 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 09:04:02.174 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 1 ms
2025-07-28 09:04:02.192 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.109 seconds (process running for 1.801)
2025-07-28 09:04:02.496 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 09:04:02.499 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: be9cd3e5-877b-49cc-9f33-5190cf83432f
2025-07-28 09:08:00.265 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 79576 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 09:08:00.266 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 09:08:01.180 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 09:08:01.181 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 09:08:01.181 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 09:08:01.198 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.087 seconds (process running for 1.822)
2025-07-28 09:08:01.500 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 09:08:01.503 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 550571d0-fd23-4b4f-99db-715375bdd2c7
2025-07-28 09:09:04.304 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 79635 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 09:09:04.304 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 09:09:05.189 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 09:09:05.189 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 09:09:05.190 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 09:09:05.206 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.054 seconds (process running for 1.749)
2025-07-28 09:09:05.523 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 09:09:05.528 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 0c32a7e5-39ee-4a8b-abd0-1bf00120fa79
2025-07-28 10:00:46.705 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Starting MerchantControllerTest using Java 17.0.9 with PID 81719 (started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 10:00:46.706 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 10:00:47.687 [Test worker] INFO  [o.s.b.t.m.w.SpringBootMockServletContext] - Initializing Spring TestDispatcherServlet ''
2025-07-28 10:00:47.687 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Initializing Servlet ''
2025-07-28 10:00:47.688 [Test worker] INFO  [o.s.t.w.s.TestDispatcherServlet] - Completed initialization in 0 ms
2025-07-28 10:00:47.708 [Test worker] INFO  [c.p.c.U.MerchantControllerTest] - Started MerchantControllerTest in 1.16 seconds (process running for 2.027)
2025-07-28 10:00:48.058 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Test Biz, email=test@example.com, settlementAccount=1234567890, balance=1000.00)
2025-07-28 10:00:48.061 [Test worker @coroutine#3] INFO  [c.p.c.p.c.MerchantController] - Successfully created merchant with ID: 87a8f47a-e235-4159-9cf6-383c7dd02cb3
2025-07-28 10:11:06.874 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 82108 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 10:11:06.876 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 10:11:06.902 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 10:11:06.903 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 10:11:07.658 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 10:11:07.664 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 10:11:07.664 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 10:11:07.682 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 10:11:07.683 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 779 ms
2025-07-28 10:11:08.156 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 10:11:08.159 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 10:11:08.204 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 10:11:08.215 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.541 seconds (process running for 2.925)
2025-07-28 10:11:27.553 [http-nio-8080-exec-1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 10:11:27.554 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 10:11:27.557 [http-nio-8080-exec-1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 3 ms
2025-07-28 10:11:28.054 [http-nio-8080-exec-2] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 371 ms
2025-07-28 10:50:27.189 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 10:50:27.238 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 10:57:46.231 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 83782 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 10:57:46.236 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 10:57:46.279 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 10:57:46.280 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 10:57:47.089 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 10:57:47.096 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 10:57:47.097 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 10:57:47.120 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 10:57:47.120 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 840 ms
2025-07-28 10:57:47.637 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 10:57:47.639 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 10:57:47.677 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 10:57:47.687 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.716 seconds (process running for 3.555)
2025-07-28 10:57:48.175 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 10:57:48.175 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 10:57:48.175 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 10:57:48.176 [RMI TCP Connection(2)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 10:57:48.176 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 10:57:48.303 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1731d9f7
2025-07-28 10:57:48.304 [RMI TCP Connection(3)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 10:57:48.311 [RMI TCP Connection(3)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 10:57:56.317 [http-nio-8080-exec-9] INFO  [o.s.api.AbstractOpenApiResource] - Init duration for springdoc-openapi is: 307 ms
2025-07-28 11:04:34.646 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.MerchantController] - Received CreateMerchantRequest: CreateMerchantRequest(businessName=Victor's Store, email=victor@example.com, settlementAccount=1234567890, balance=10000)
2025-07-28 11:04:34.648 [http-nio-8080-exec-2] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: CreateMerchantCommand to CreateMerchantCommandHandler
2025-07-28 11:04:34.652 [http-nio-8080-exec-2] INFO  [c.p.c.a.c.CreateMerchantCommandHandler] - Handling CreateMerchantCommand for email: victor@example.com
2025-07-28 11:04:34.676 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 11:04:34.677 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT 1 FROM merchants WHERE email = ? LIMIT 1]
2025-07-28 11:04:34.677 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:04:34.723 [http-nio-8080-exec-2] WARN  [c.p.c.p.c.MerchantController] - Merchant already exists: Merchant with email victor@example.com already exists
2025-07-28 11:04:46.114 [http-nio-8080-exec-8] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=5f065369-5939-48f8-90ed-d7a1fb4ff4bc, merchantRef=INV-20250727-009, amount=200, currency=NGN, idempotencyKey=idemp-20250727-009)
2025-07-28 11:04:46.115 [http-nio-8080-exec-8] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 11:04:46.123 [http-nio-8080-exec-8] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 11:04:46.126 [http-nio-8080-exec-8] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1641378376 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] for JDBC transaction
2025-07-28 11:04:46.127 [http-nio-8080-exec-8] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1641378376 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] to manual commit
2025-07-28 11:04:46.131 [http-nio-8080-exec-8] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 11:04:46.131 [http-nio-8080-exec-8] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1641378376 wrapping org.postgresql.jdbc.PgConnection@1731d9f7]
2025-07-28 11:04:46.131 [http-nio-8080-exec-8] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1641378376 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] after transaction
2025-07-28 11:04:46.140 [http-nio-8080-exec-8] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-009
2025-07-28 11:04:46.140 [http-nio-8080-exec-8] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 11:04:46.140 [http-nio-8080-exec-8] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 11:04:46.140 [http-nio-8080-exec-8] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:04:46.150 [http-nio-8080-exec-8] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:04:46.151 [http-nio-8080-exec-8] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:23.779 [http-nio-8080-exec-9] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=5f065369-5939-48f8-90ed-d7a1fb4ff4bc, merchantRef=INV-20250727-009, amount=200, currency=NGN, idempotencyKey=idemp-20250727-009)
2025-07-28 11:06:23.780 [http-nio-8080-exec-9] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 11:06:23.780 [http-nio-8080-exec-9] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 11:06:23.781 [http-nio-8080-exec-9] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@946933492 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] for JDBC transaction
2025-07-28 11:06:23.781 [http-nio-8080-exec-9] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@946933492 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] to manual commit
2025-07-28 11:06:23.782 [http-nio-8080-exec-9] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 11:06:23.782 [http-nio-8080-exec-9] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@946933492 wrapping org.postgresql.jdbc.PgConnection@1731d9f7]
2025-07-28 11:06:23.782 [http-nio-8080-exec-9] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@946933492 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] after transaction
2025-07-28 11:06:23.783 [http-nio-8080-exec-9] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-009
2025-07-28 11:06:23.784 [http-nio-8080-exec-9] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 11:06:23.784 [http-nio-8080-exec-9] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 11:06:23.784 [http-nio-8080-exec-9] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:06:23.786 [http-nio-8080-exec-9] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:23.787 [http-nio-8080-exec-9] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:24.926 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=5f065369-5939-48f8-90ed-d7a1fb4ff4bc, merchantRef=INV-20250727-009, amount=200, currency=NGN, idempotencyKey=idemp-20250727-009)
2025-07-28 11:06:24.926 [http-nio-8080-exec-1] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 11:06:24.926 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 11:06:24.927 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1536274472 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] for JDBC transaction
2025-07-28 11:06:24.927 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1536274472 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] to manual commit
2025-07-28 11:06:24.928 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 11:06:24.928 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1536274472 wrapping org.postgresql.jdbc.PgConnection@1731d9f7]
2025-07-28 11:06:24.928 [http-nio-8080-exec-1] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1536274472 wrapping org.postgresql.jdbc.PgConnection@1731d9f7] after transaction
2025-07-28 11:06:24.929 [http-nio-8080-exec-1] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-009
2025-07-28 11:06:24.929 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 11:06:24.929 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 11:06:24.929 [http-nio-8080-exec-1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:06:24.931 [http-nio-8080-exec-1] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:24.931 [http-nio-8080-exec-1] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:27.674 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 11:06:27.682 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 11:06:27.696 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 11:06:27.698 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
2025-07-28 11:06:32.077 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Starting PaymentInitiationSystemApplicationKt using Java 17.0.9 with PID 84104 (/Users/Otene/Desktop/code/payment-initiation-system/build/classes/kotlin/main started by Otene in /Users/Otene/Desktop/code/payment-initiation-system)
2025-07-28 11:06:32.078 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - No active profile set, falling back to 1 default profile: "default"
2025-07-28 11:06:32.117 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28 11:06:32.117 [restartedMain] INFO  [o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28 11:06:33.009 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat initialized with port 8080 (http)
2025-07-28 11:06:33.015 [restartedMain] INFO  [o.a.catalina.core.StandardService] - Starting service [Tomcat]
2025-07-28 11:06:33.015 [restartedMain] INFO  [o.a.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-07-28 11:06:33.045 [restartedMain] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2025-07-28 11:06:33.045 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 928 ms
2025-07-28 11:06:33.555 [restartedMain] INFO  [o.s.b.d.a.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-07-28 11:06:33.557 [restartedMain] INFO  [o.s.b.a.e.web.EndpointLinksResolver] - Exposing 1 endpoint beneath base path '/actuator'
2025-07-28 11:06:33.599 [restartedMain] INFO  [o.s.b.w.e.tomcat.TomcatWebServer] - Tomcat started on port 8080 (http) with context path '/'
2025-07-28 11:06:33.608 [restartedMain] INFO  [c.p.c.PaymentInitiationSystemApplicationKt] - Started PaymentInitiationSystemApplicationKt in 1.746 seconds (process running for 2.945)
2025-07-28 11:06:33.997 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:06:33.997 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.a.c.c.C.[Tomcat].[localhost].[/]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28 11:06:33.997 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-07-28 11:06:33.998 [RMI TCP Connection(1)-127.0.0.1] INFO  [o.s.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-07-28 11:06:33.997 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Starting...
2025-07-28 11:06:34.093 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.pool.HikariPool] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65f7ce24
2025-07-28 11:06:34.094 [RMI TCP Connection(4)-127.0.0.1] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Start completed.
2025-07-28 11:06:34.102 [RMI TCP Connection(4)-127.0.0.1] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:06:39.954 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.TransactionController] - Received InitiateTransactionRequest: InitiateTransactionRequest(merchantId=5f065369-5939-48f8-90ed-d7a1fb4ff4bc, merchantRef=INV-20250727-009, amount=200, currency=NGN, idempotencyKey=idemp-20250727-009)
2025-07-28 11:06:39.955 [http-nio-8080-exec-2] INFO  [c.p.c.i.SimpleCommandBus] - Dispatching command: InitiateTransactionCommand to InitiateTransactionHandler$$SpringCGLIB$$0
2025-07-28 11:06:39.958 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Creating new transaction with name [com.paymentsystem.core.application.handlers.InitiateTransactionHandler.handle]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28 11:06:39.960 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Acquired Connection [HikariProxyConnection@1202904767 wrapping org.postgresql.jdbc.PgConnection@65f7ce24] for JDBC transaction
2025-07-28 11:06:39.961 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Switching JDBC Connection [HikariProxyConnection@1202904767 wrapping org.postgresql.jdbc.PgConnection@65f7ce24] to manual commit
2025-07-28 11:06:39.964 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Initiating transaction commit
2025-07-28 11:06:39.964 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Committing JDBC transaction on Connection [HikariProxyConnection@1202904767 wrapping org.postgresql.jdbc.PgConnection@65f7ce24]
2025-07-28 11:06:39.964 [http-nio-8080-exec-2] DEBUG [o.s.j.support.JdbcTransactionManager] - Releasing JDBC Connection [HikariProxyConnection@1202904767 wrapping org.postgresql.jdbc.PgConnection@65f7ce24] after transaction
2025-07-28 11:06:39.982 [http-nio-8080-exec-2] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Searching for transaction by idempotencyKey = idemp-20250727-009
2025-07-28 11:06:39.984 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL query
2025-07-28 11:06:39.984 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.core.JdbcTemplate] - Executing prepared SQL statement [SELECT * FROM transactions 
WHERE idempotency_key = ?]
2025-07-28 11:06:39.984 [http-nio-8080-exec-2] DEBUG [o.s.jdbc.datasource.DataSourceUtils] - Fetching JDBC Connection from DataSource
2025-07-28 11:06:40.002 [http-nio-8080-exec-2] INFO  [c.p.c.i.r.PostgresTransactionRepository] - Transaction fetched: ID = c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:40.006 [http-nio-8080-exec-2] INFO  [c.p.c.p.c.TransactionController] - Transaction successfully initiated with ID: c027a3b6-3bb0-42c1-bf3b-a719e18d60d3
2025-07-28 11:06:48.292 [SpringApplicationShutdownHook] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-28 11:06:48.300 [tomcat-shutdown] INFO  [o.s.b.w.e.tomcat.GracefulShutdown] - Graceful shutdown complete
2025-07-28 11:06:48.323 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown initiated...
2025-07-28 11:06:48.324 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource] - HikariPool-1 - Shutdown completed.
